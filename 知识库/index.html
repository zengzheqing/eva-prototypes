<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVA Agent · 知识库</title>
    <!-- ========== @FROZEN: 字体和公共样式引用 ========== -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    
    
    <!-- ========== @END-FROZEN ========== -->
    <!-- ========== 内联样式 (生成于 2026-02-04 13:37) ========== -->
<style>
/* ========== eva-base.css ========== */
/**
 * EVA Design System - Base Styles
 * Version: 2.0
 *
 * 使用说明: 在 HTML 的 <head> 中引用
 * <link rel="stylesheet" href="eva-base.css">
 *
 * 规范文档: EVA-Design-System.md
 * 视觉参考: eva-enterprise-onboarding (Google AI Studio)
 */

/* ========== @FROZEN: 色彩系统 ========== */
/* 说明: 所有颜色值遵循 EVA-Design-System.md */
:root {
    /* 背景色 */
    --bg: #f8fafc;
    --bg-elevated: #ffffff;
    --bg-subtle: #f1f5f9;

    /* 文字色 */
    --text: #0f172a;
    --text-secondary: #64748b;
    --text-muted: #94a3b8;

    /* 主色调 */
    --accent: #6366f1;
    --accent-dark: #4f46e5;
    --accent-light: #e0e7ff;
    --accent-glow: rgba(99, 102, 241, 0.15);
    --accent-hover: #4f46e5;

    /* 功能色 */
    --success: #10b981;
    --success-light: #ecfdf5;
    --warning: #f59e0b;
    --warning-light: #fffbeb;
    --danger: #ef4444;
    --danger-light: #fef2f2;

    /* 边框色 */
    --border: #e2e8f0;
    --border-subtle: #f1f5f9;

    /* 阴影 - 升级版 */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-card: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
    --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    --shadow-accent: 0 10px 40px -10px rgba(99, 102, 241, 0.3);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);

    /* 圆角 - 升级版（更大更现代） */
    --radius-sm: 12px;
    --radius: 16px;
    --radius-lg: 24px;
    --radius-xl: 32px;
    --radius-2xl: 40px;
    --radius-3xl: 48px;
    --radius-full: 9999px;

    /* 间距系统 */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;
    --space-16: 64px;

    /* 过渡时间 */
    --duration-fast: 0.15s;
    --duration: 0.3s;
    --duration-slow: 0.5s;
    --duration-slower: 0.7s;
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 全局重置 ========== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 排版系统 ========== */
.title {
    font-size: 32px;
    font-weight: 700;
    color: var(--text);
    line-height: 1.2;
    margin-bottom: 12px;
    letter-spacing: -0.025em;
}

.title-xl {
    font-size: 40px;
    font-weight: 900;
    color: var(--text);
    line-height: 1.1;
    letter-spacing: -0.03em;
}

.subtitle {
    font-size: 16px;
    color: var(--text-secondary);
    line-height: 1.7;
    margin-bottom: 40px;
}

.label {
    display: block;
    font-size: 11px;
    font-weight: 700;
    color: var(--text-secondary);
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* 字体工具类 */
.font-black {
    font-weight: 900;
}

.font-bold {
    font-weight: 700;
}

.font-semibold {
    font-weight: 600;
}

.font-medium {
    font-weight: 500;
}

.tracking-tighter {
    letter-spacing: -0.05em;
}

.tracking-tight {
    letter-spacing: -0.025em;
}

.tracking-normal {
    letter-spacing: 0;
}

.tracking-wide {
    letter-spacing: 0.025em;
}

.tracking-wider {
    letter-spacing: 0.05em;
}

.tracking-widest {
    letter-spacing: 0.1em;
}

.uppercase {
    text-transform: uppercase;
}

.capitalize {
    text-transform: capitalize;
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 按钮系统 ========== */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 18px 40px;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: var(--radius-xl);
    font-weight: 700;
    cursor: pointer;
    font-size: 16px;
    letter-spacing: -0.01em;
    transition: all var(--duration);
    text-decoration: none;
}

.btn:hover {
    background: var(--accent-hover);
    transform: translateY(-2px) scale(1.02);
    box-shadow: var(--shadow-accent);
}

.btn:active {
    transform: translateY(0) scale(0.98);
}

.btn-lg {
    padding: 22px 48px;
    font-size: 18px;
    font-weight: 900;
    border-radius: var(--radius-2xl);
}

.btn-secondary {
    background: transparent;
    color: var(--text);
    border: 2px solid var(--border);
}

.btn-secondary:hover {
    background: var(--bg-subtle);
    border-color: var(--accent);
    box-shadow: none;
}

.btn-ghost {
    background: transparent;
    color: var(--text-secondary);
    padding: 10px 20px;
}

.btn-ghost:hover {
    color: var(--accent);
    background: var(--accent-light);
    box-shadow: none;
    transform: none;
}

.btn-sm {
    padding: 12px 24px;
    font-size: 13px;
    font-weight: 600;
}

.btn-full {
    width: 100%;
}

.btn-dark {
    background: var(--text);
    color: white;
}

.btn-dark:hover {
    background: #1e293b;
    box-shadow: var(--shadow-lg);
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 输入框系统 ========== */
.input-box {
    margin-bottom: 28px;
}

.input {
    width: 100%;
    padding: 18px 20px;
    border: 2px solid var(--border-subtle);
    border-radius: var(--radius-lg);
    font-size: 16px;
    outline: none;
    transition: all var(--duration);
    background: var(--bg);
    color: var(--text);
}

.input::placeholder {
    color: var(--text-muted);
}

.input:focus {
    background: white;
    border-color: var(--accent);
    box-shadow: 0 0 0 4px var(--accent-light);
}

.input:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

textarea.input {
    min-height: 120px;
    resize: vertical;
}

.input-lg {
    padding: 20px 24px;
    font-size: 18px;
    border-radius: var(--radius-xl);
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 卡片系统 ========== */
.card {
    background: var(--bg-elevated);
    padding: 32px;
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-card);
    border: 2px solid transparent;
    transition: all var(--duration-slow);
    position: relative;
    overflow: hidden;
}

.card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.card.active {
    border-color: var(--success);
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--shadow-lg);
}

.card.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--success);
}

.card.dim {
    opacity: 0.5;
    transform: scale(0.98);
    filter: grayscale(0.3);
}

.card-lg {
    padding: 40px;
    border-radius: var(--radius-3xl);
}

.card-interactive {
    cursor: pointer;
}

.card-interactive:hover {
    border-color: var(--accent);
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 标签/徽章系统 ========== */
.tag {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: 12px;
    padding: 4px 10px;
    border-radius: 6px;
    background: var(--bg-subtle);
    color: var(--text-secondary);
    border: 1px solid var(--border);
}

.tag.core {
    background: #eef2ff;
    color: var(--accent);
    border-color: #c7d2fe;
    font-weight: 600;
}

.badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: 11px;
    font-weight: 500;
    padding: 2px 8px;
    border-radius: 20px;
}

.badge.success {
    background: rgba(16, 185, 129, 0.15);
    color: var(--success);
}

.badge.warning {
    background: rgba(245, 158, 11, 0.15);
    color: var(--warning);
}

.badge.danger {
    background: rgba(239, 68, 68, 0.15);
    color: var(--danger);
}

.badge.info {
    background: var(--accent-light);
    color: var(--accent);
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 进度指示器 ========== */
.stepper {
    display: flex;
    gap: 8px;
    margin-bottom: 40px;
}

.step-dot {
    width: 32px;
    height: 6px;
    background: var(--border);
    border-radius: 3px;
    transition: all var(--duration);
}

.step-dot.active {
    background: var(--accent);
    width: 48px;
}

.step-dot.done {
    background: var(--success);
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 图标容器 ========== */
.icon-box {
    width: 48px;
    height: 48px;
    background: var(--bg-subtle);
    border-radius: var(--radius);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    transition: all var(--duration);
}

.icon-box.active {
    background: var(--success-light);
    color: var(--success);
}

.icon-box.accent {
    background: var(--accent-light);
    color: var(--accent);
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 网格系统 ========== */
.grid {
    display: grid;
    gap: 20px;
}

.grid-2 {
    grid-template-columns: repeat(2, 1fr);
}

.grid-3 {
    grid-template-columns: repeat(3, 1fr);
}

.grid-4 {
    grid-template-columns: repeat(4, 1fr);
}

.grid-12 {
    grid-template-columns: repeat(12, 1fr);
}

.col-2 {
    grid-column: span 2;
}

.col-3 {
    grid-column: span 3;
}

.col-4 {
    grid-column: span 4;
}

.col-6 {
    grid-column: span 6;
}

.col-8 {
    grid-column: span 8;
}

.col-12 {
    grid-column: span 12;
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 工具类 ========== */
/* Flex */
.flex {
    display: flex;
}

.flex-col {
    flex-direction: column;
}

.items-center {
    align-items: center;
}

.justify-center {
    justify-content: center;
}

.justify-between {
    justify-content: space-between;
}

.gap-sm {
    gap: 8px;
}

.gap-md {
    gap: 16px;
}

.gap-lg {
    gap: 24px;
}

/* Spacing */
.mt-sm {
    margin-top: 8px;
}

.mt-md {
    margin-top: 16px;
}

.mt-lg {
    margin-top: 24px;
}

.mt-xl {
    margin-top: 32px;
}

.mb-sm {
    margin-bottom: 8px;
}

.mb-md {
    margin-bottom: 16px;
}

.mb-lg {
    margin-bottom: 24px;
}

.mb-xl {
    margin-bottom: 32px;
}

/* Text */
.text-center {
    text-align: center;
}

.text-muted {
    color: var(--text-muted);
}

.text-secondary {
    color: var(--text-secondary);
}

.text-accent {
    color: var(--accent);
}

.text-success {
    color: var(--success);
}

.font-bold {
    font-weight: 600;
}

/* Display */
.hidden {
    display: none;
}

.block {
    display: block;
}

/* ========== @END-FROZEN ========== */


/* ========== @STABLE: 页面切换 ========== */
/* 说明: 可以调整动画参数，但不要删除 */
.page {
    display: none;
}

.page.active {
    display: flex;
}

/* ========== @END-STABLE ========== */

/* ========== eva-animations.css ========== */
/**
 * EVA Design System - Animations
 * Version: 2.0
 *
 * 使用说明: 在 HTML 的 <head> 中引用（在 eva-base.css 之后）
 * <link rel="stylesheet" href="eva-animations.css">
 *
 * 来源: 深色版的优秀视觉效果 + 白色版的轨道动画 + Google AI Studio 版本动效
 */

/* ========== @FROZEN: 环境动画背景 (来源: 深色版) ========== */
/* 说明: 已适配浅色主题，创造柔和的动态背景效果 */
.ambient {
    position: fixed;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
    z-index: 0;
}

.ambient::before {
    content: '';
    position: absolute;
    width: 800px;
    height: 800px;
    background: radial-gradient(circle, rgba(99, 102, 241, 0.08), transparent 65%);
    top: -20%;
    left: -15%;
    animation: drift1 40s ease-in-out infinite;
}

.ambient::after {
    content: '';
    position: absolute;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(236, 72, 153, 0.05), transparent 65%);
    bottom: -15%;
    right: -10%;
    animation: drift2 35s ease-in-out infinite;
}

/* 环境圆（白色版原有的，保留兼容） */
.ambient-circle {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.6;
    z-index: 0;
}

.ac-1 {
    width: 600px;
    height: 600px;
    background: rgba(99, 102, 241, 0.08);
    top: -10%;
    right: 10%;
}

.ac-2 {
    width: 500px;
    height: 500px;
    background: rgba(236, 72, 153, 0.05);
    bottom: -10%;
    left: 20%;
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 漂移动画关键帧 ========== */
@keyframes drift1 {

    0%,
    100% {
        transform: translate(0, 0);
    }

    50% {
        transform: translate(50px, 50px);
    }
}

@keyframes drift2 {

    0%,
    100% {
        transform: translate(0, 0);
    }

    50% {
        transform: translate(-30px, -30px);
    }
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 轨道动画 (来源: 白色版) ========== */
/* 说明: 用于 Hero 区域的装饰性动画 */
.hero-illustration {
    position: relative;
    width: 500px;
    height: 500px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.orbit {
    position: absolute;
    border: 1px dashed #cbd5e1;
    border-radius: 50%;
}

.o1 {
    width: 280px;
    height: 280px;
    animation: spin 20s linear infinite;
}

.o2 {
    width: 460px;
    height: 460px;
    animation: spin 30s linear infinite reverse;
}

.agent-center {
    width: 140px;
    height: 140px;
    background: white;
    border-radius: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 60px;
    box-shadow: 0 20px 60px rgba(99, 102, 241, 0.15);
    z-index: 2;
}

.orbit-item {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 40px;
    height: 40px;
    background: white;
    border-radius: 10px;
    box-shadow: var(--shadow-card, 0 4px 6px -1px rgba(0, 0, 0, 0.05));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 通用动画关键帧 ========== */
/* 旋转 */
@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* 淡入 */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 淡入（无位移） */
@keyframes fadeInSimple {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* 脉冲 */
@keyframes pulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.5;
    }
}

/* 弹跳 */
@keyframes bounce {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-10px);
    }
}

/* 缩放脉冲 */
@keyframes scalePulse {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.05);
    }
}

/* 闪烁 */
@keyframes blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }
}

/* 滑入（从右） */
@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* 滑入（从左） */
@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 动画工具类 ========== */
/* 基础淡入 */
.fade-in {
    animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.fade-in-fast {
    animation: fadeIn 0.3s ease forwards;
}

.fade-in-slow {
    animation: fadeIn 1s ease forwards;
}

/* 脉冲 */
.pulse {
    animation: pulse 2s infinite;
}

/* 旋转 */
.spin {
    animation: spin 1s linear infinite;
}

.spin-slow {
    animation: spin 3s linear infinite;
}

/* 弹跳 */
.bounce {
    animation: bounce 2s ease-in-out infinite;
}

/* 滑入 */
.slide-in-right {
    animation: slideInRight 0.4s ease forwards;
}

.slide-in-left {
    animation: slideInLeft 0.4s ease forwards;
}

/* ========== @END-FROZEN ========== */


/* ========== @FROZEN: 加载指示器 ========== */
.loader {
    width: 20px;
    height: 20px;
    border: 2px solid var(--accent, #6366f1);
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

.loader-sm {
    width: 14px;
    height: 14px;
    border-width: 1.5px;
}

.loader-lg {
    width: 32px;
    height: 32px;
    border-width: 3px;
}

/* 状态监视器 */
.status-monitor {
    background: white;
    border-radius: 16px;
    padding: 16px 24px;
    box-shadow: var(--shadow-lg, 0 20px 25px -5px rgba(0, 0, 0, 0.1));
    display: flex;
    align-items: center;
    gap: 16px;
    border: 1px solid var(--border, #e2e8f0);
}

/* ========== @END-FROZEN ========== */


/* ========== @STABLE: 延迟动画 ========== */
/* 说明: 用于序列化动画效果，可根据需要调整延迟值 */
.delay-100 {
    animation-delay: 0.1s;
}

.delay-200 {
    animation-delay: 0.2s;
}

.delay-300 {
    animation-delay: 0.3s;
}

.delay-400 {
    animation-delay: 0.4s;
}

.delay-500 {
    animation-delay: 0.5s;
}

.delay-600 {
    animation-delay: 0.6s;
}

.delay-700 {
    animation-delay: 0.7s;
}

.delay-800 {
    animation-delay: 0.8s;
}

.delay-900 {
    animation-delay: 0.9s;
}

.delay-1000 {
    animation-delay: 1s;
}

/* ========== @END-STABLE ========== */


/* ========== @STABLE: 高级动画 (来源: Google AI Studio) ========== */
/* 滑入淡出 - 从底部 */
@keyframes slideInFromBottom {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 缩放淡入 */
@keyframes zoomIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* 缩放淡出 */
@keyframes zoomOut {
    from {
        opacity: 1;
        transform: scale(1);
    }

    to {
        opacity: 0;
        transform: scale(0.95);
    }
}

/* 进度条条纹动画 */
@keyframes progressBarStripes {
    from {
        background-position: 24px 0;
    }

    to {
        background-position: 0 0;
    }
}

/* 脉冲指示器 */
@keyframes ping {

    75%,
    100% {
        transform: scale(2);
        opacity: 0;
    }
}

/* 打字光标闪烁 */
@keyframes cursorBlink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }
}

/* 滑动上升 */
@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ========== @END-STABLE ========== */


/* ========== @STABLE: 组合动画工具类 ========== */
/* animate-in 系列 - 参考 Tailwind animate-in */
.animate-in {
    animation-duration: 0.5s;
    animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
    animation-fill-mode: forwards;
}

.animate-in.fade-in {
    animation-name: fadeIn;
}

.animate-in.zoom-in {
    animation-name: zoomIn;
}

.animate-in.slide-in-from-bottom {
    animation-name: slideInFromBottom;
}

.animate-in.slide-in-from-top {
    animation-name: slideInFromBottom;
    animation-direction: reverse;
}

/* 脉冲指示器 */
.animate-ping {
    animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
}

/* 呼吸脉冲 */
.animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* 慢速旋转 */
.animate-spin-slow {
    animation: spin 3s linear infinite;
}

/* 打字光标 */
.cursor-blink {
    animation: cursorBlink 1s step-end infinite;
}

/* ========== @END-STABLE ========== */


/* ========== @STABLE: 进度条组件 ========== */
.progress-bar {
    height: 24px;
    background: white;
    border-radius: var(--radius-full, 9999px);
    padding: 4px;
    border: 1px solid var(--border, #e2e8f0);
    box-shadow: var(--shadow-sm, 0 1px 2px 0 rgba(0, 0, 0, 0.05));
    overflow: hidden;
}

.progress-bar-fill {
    height: 100%;
    background: var(--accent, #6366f1);
    border-radius: var(--radius-full, 9999px);
    transition: width 0.5s ease-out;
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.4);
    position: relative;
}

.progress-bar-fill::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg,
            rgba(255, 255, 255, 0.15) 25%,
            transparent 25%,
            transparent 50%,
            rgba(255, 255, 255, 0.15) 50%,
            rgba(255, 255, 255, 0.15) 75%,
            transparent 75%,
            transparent);
    background-size: 24px 24px;
    animation: progressBarStripes 1s linear infinite;
}

/* ========== @END-STABLE ========== */


/* ========== @STABLE: 状态指示器 ========== */
.status-dot {
    position: relative;
    display: inline-flex;
    width: 8px;
    height: 8px;
}

.status-dot::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: currentColor;
    animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
    opacity: 0.75;
}

.status-dot::after {
    content: '';
    position: relative;
    display: inline-flex;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: currentColor;
}

.status-dot.success {
    color: var(--success, #10b981);
}

.status-dot.warning {
    color: var(--warning, #f59e0b);
}

.status-dot.danger {
    color: var(--danger, #ef4444);
}

.status-dot.accent {
    color: var(--accent, #6366f1);
}

/* ========== @END-STABLE ========== */


/* ========== @STABLE: 终端日志样式 ========== */
.terminal {
    background: #0f172a;
    border-radius: var(--radius-2xl, 32px);
    padding: 32px;
    font-family: 'JetBrains Mono', 'Fira Code', monospace;
    font-size: 13px;
    color: #e2e8f0;
    overflow-y: auto;
    box-shadow: var(--shadow-xl, 0 25px 50px -12px rgba(0, 0, 0, 0.25));
}

.terminal-header {
    display: flex;
    align-items: center;
    gap: 12px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 16px;
    margin-bottom: 16px;
    color: rgba(255, 255, 255, 0.4);
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

.terminal-dots {
    display: flex;
    gap: 6px;
}

.terminal-dots span {
    width: 10px;
    height: 10px;
    border-radius: 50%;
}

.terminal-dots span:nth-child(1) {
    background: rgba(239, 68, 68, 0.5);
}

.terminal-dots span:nth-child(2) {
    background: rgba(245, 158, 11, 0.5);
}

.terminal-dots span:nth-child(3) {
    background: rgba(16, 185, 129, 0.5);
}

.terminal-log {
    display: flex;
    gap: 12px;
    margin-bottom: 12px;
    animation: slideInFromBottom 0.3s ease forwards;
}

.terminal-log-num {
    color: rgba(255, 255, 255, 0.2);
    user-select: none;
}

.terminal-log-success {
    color: #818cf8;
    font-weight: 700;
}

/* ========== @END-STABLE ========== */

</style>
    <style>
        /* ========== 知识库页面特有样式 ========== */
        /* 说明: 以下样式为知识库页面专用，公共样式在 eva-base.css 中 */

        /* 覆盖 body 样式以适配控制台布局 */
        body {
            display: flex;
            min-height: 100vh;
        }

        /* ========== @FROZEN: 侧边栏导航 ========== */
        .sidebar {
            width: 280px;
            background: white;
            border-right: 1px solid var(--border-subtle);
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            z-index: 20;
            flex-shrink: 0;
        }

        .logo {
            height: 72px;
            display: flex;
            align-items: center;
            padding: 0 28px;
            font-weight: 700;
            font-size: 20px;
            border-bottom: 1px solid var(--border-subtle);
            gap: 10px;
            color: var(--accent);
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .nav-section {
            padding: 20px 16px;
            border-bottom: 1px solid var(--border-subtle)
        }

        .nav-label {
            font-size: 10px;
            font-weight: 700;
            color: var(--text-muted);
            text-transform: uppercase;
            padding: 0 12px 10px;
            letter-spacing: 0.1em
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 14px;
            font-size: 14px;
            border-radius: var(--radius);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all .2s;
            font-weight: 500;
            text-decoration: none;
        }

        .nav-item:hover {
            background: var(--bg-subtle);
            color: var(--text)
        }

        .nav-item.active {
            background: var(--accent-light);
            color: var(--accent);
            font-weight: 600;
        }

        .nav-item-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        /* ========== @END-FROZEN ========== */

        /* ========== 个人中心 ========== */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            margin-top: auto;
            border-top: 1px solid var(--border);
            cursor: pointer;
            transition: background 0.2s;
        }

        .user-profile:hover {
            background: var(--bg-subtle);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4DB6AC, #00897B);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .user-info {
            flex: 1;
            min-width: 0;
        }

        .user-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }

        .user-company {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .user-expand {
            color: var(--text-tertiary);
            font-size: 10px;
        }

        /* ========== @FROZEN: 主布局区域 ========== */
        .main {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column
        }

        .topbar {
            height: 64px;
            background: white;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 32px;
            position: sticky;
            top: 0;
            z-index: 19
        }

        .content {
            padding: 32px;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        /* ========== @END-FROZEN ========== */

        /* ========== 完整性面板（核心特色） ========== */
        .completeness-panel {
            background: linear-gradient(135deg, var(--accent-light) 0%, white 100%);
            border: 2px solid var(--accent);
            border-radius: var(--radius-xl);
            padding: 32px;
            margin-bottom: 32px;
            display: flex;
            align-items: center;
            gap: 40px;
            position: relative;
            overflow: hidden;
        }

        .completeness-panel::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--accent-glow) 0%, transparent 70%);
            pointer-events: none;
        }

        /* 环形进度条 */
        .progress-ring {
            position: relative;
            width: 140px;
            height: 140px;
            flex-shrink: 0;
        }

        .progress-ring svg {
            transform: rotate(-90deg);
        }

        .progress-ring-bg {
            fill: none;
            stroke: var(--border);
            stroke-width: 10;
        }

        .progress-ring-fill {
            fill: none;
            stroke: var(--accent);
            stroke-width: 10;
            stroke-linecap: round;
            stroke-dasharray: 377;
            stroke-dashoffset: 83; /* 377 * (1 - 0.78) = 82.94 */
            transition: stroke-dashoffset 1s ease-out;
        }

        .progress-ring-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .progress-ring-value {
            font-size: 36px;
            font-weight: 900;
            color: var(--text);
            line-height: 1;
            letter-spacing: -0.03em;
        }

        .progress-ring-label {
            font-size: 11px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .completeness-info {
            flex: 1;
            position: relative;
            z-index: 1;
        }

        .completeness-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .completeness-title h2 {
            font-size: 20px;
            font-weight: 700;
            color: var(--text);
        }

        .completeness-trend {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            color: var(--success);
            background: var(--success-light);
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 600;
        }

        .completeness-desc {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            line-height: 1.6;
        }

        .knowledge-gap {
            background: white;
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 16px;
        }

        .knowledge-gap-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .knowledge-gap-header-icon {
            font-size: 16px;
        }

        .knowledge-gap-header-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--text);
        }

        .knowledge-gap-header-badge {
            font-size: 11px;
            background: var(--warning-light);
            color: var(--warning);
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 500;
            margin-left: auto;
        }

        .suggestion-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .suggestion-card {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            background: var(--bg-subtle);
            border-radius: var(--radius);
            transition: all .2s;
        }

        .suggestion-card:hover {
            background: var(--bg);
            box-shadow: var(--shadow-sm);
        }

        .suggestion-priority {
            font-size: 12px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        /* 缺口程度指示器（替代红黄绿圆点） */
        .gap-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 11px;
            color: var(--text-muted);
            margin-left: auto;
            flex-shrink: 0;
        }

        .gap-indicator-label {
            white-space: nowrap;
        }

        .gap-indicator-bar {
            width: 60px;
            height: 6px;
            background: var(--bg-subtle);
            border-radius: 3px;
            overflow: hidden;
        }

        .gap-indicator-fill {
            height: 100%;
            border-radius: 3px;
            transition: width .3s;
        }

        .gap-indicator-fill.high {
            background: var(--danger);
        }

        .gap-indicator-fill.medium {
            background: var(--warning);
        }

        .gap-indicator-fill.low {
            background: var(--success);
        }

        .gap-indicator-value {
            font-weight: 600;
            min-width: 32px;
            text-align: right;
        }

        .gap-indicator-value.high {
            color: var(--danger);
        }

        .gap-indicator-value.medium {
            color: var(--warning);
        }

        .gap-indicator-value.low {
            color: var(--success);
        }

        /* 更新建议卡片布局 - 方案A：右侧竖向按钮 */
        .suggestion-card-new {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 16px;
            background: white;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            transition: all .2s;
        }

        .suggestion-card-new:hover {
            border-color: var(--accent);
            box-shadow: 0 2px 8px rgba(99, 102, 241, 0.1);
        }

        .suggestion-card-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .suggestion-card-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }

        .suggestion-card-desc {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .suggestion-card-actions {
            display: flex;
            flex-direction: column;
            gap: 8px;
            min-width: 120px;
        }

        .suggestion-btn-secondary {
            padding: 8px 14px;
            font-size: 12px;
            font-weight: 500;
            color: var(--text);
            background: white;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all .2s;
            white-space: nowrap;
        }

        .suggestion-btn-secondary:hover {
            border-color: var(--accent);
            color: var(--accent);
            background: var(--accent-light);
        }

        .suggestion-btn-primary {
            padding: 8px 14px;
            font-size: 12px;
            font-weight: 500;
            color: white;
            background: var(--accent);
            border: 1px solid var(--accent);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all .2s;
            white-space: nowrap;
        }

        .suggestion-btn-primary:hover {
            background: #5558e3;
            border-color: #5558e3;
            box-shadow: 0 2px 6px rgba(99, 102, 241, 0.3);
        }

        .suggestion-card-status {
            font-size: 11px;
            color: var(--text-muted);
            white-space: nowrap;
        }

        .suggestion-content {
            flex: 1;
            min-width: 0;
        }

        .suggestion-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 4px;
        }

        .suggestion-desc {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .suggestion-action {
            flex-shrink: 0;
        }

        .suggestion-btn {
            padding: 6px 12px;
            font-size: 11px;
            font-weight: 600;
            color: var(--accent);
            background: white;
            border: 1px solid var(--accent);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all .2s;
        }

        .suggestion-btn:hover {
            background: var(--accent);
            color: white;
        }

        .completeness-action {
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        /* ========== 数据概览瓦片 ========== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-tile {
            background: white;
            border: 2px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            padding: 20px;
            transition: all .3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .stat-tile:hover {
            border-color: var(--accent);
            box-shadow: var(--shadow-card);
            transform: translateY(-2px);
        }

        .stat-tile-head {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .stat-tile-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .stat-tile-icon {
            width: 32px;
            height: 32px;
            background: var(--bg-subtle);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .stat-tile-value {
            font-size: 28px;
            font-weight: 900;
            color: var(--text);
            line-height: 1;
            letter-spacing: -0.03em;
        }

        .stat-tile-change {
            font-size: 12px;
            color: var(--success);
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .stat-tile-change.neutral {
            color: var(--text-muted);
        }

        /* ========== 上传区域（带Tab切换）========== */
        .upload-container {
            background: white;
            border: 2px solid var(--border-subtle);
            border-radius: var(--radius-xl);
            margin-bottom: 32px;
            overflow: hidden;
        }

        .upload-tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
        }

        .upload-tab {
            flex: 1;
            padding: 16px 24px;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
            background: var(--bg-subtle);
            border: none;
            cursor: pointer;
            transition: all .2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .upload-tab:hover {
            color: var(--text);
            background: var(--bg);
        }

        .upload-tab.active {
            color: var(--accent);
            background: white;
            border-bottom: 2px solid var(--accent);
            margin-bottom: -1px;
        }

        .upload-tab-content {
            display: none;
            padding: 40px;
        }

        .upload-tab-content.active {
            display: block;
        }

        .upload-section {
            background: white;
            border: 2px dashed var(--border);
            border-radius: var(--radius-xl);
            padding: 40px;
            text-align: center;
            transition: all .3s;
            cursor: pointer;
        }

        .upload-section:hover {
            border-color: var(--accent);
            background: var(--bg-subtle);
        }

        .upload-section.dragover {
            border-color: var(--accent);
            background: var(--accent-light);
            transform: scale(1.01);
        }

        /* 链接粘贴区域 */
        .link-paste-area {
            text-align: center;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .link-paste-icon {
            width: 64px;
            height: 64px;
            background: var(--accent-light);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            margin: 0 auto 20px;
        }

        .link-paste-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 8px;
        }

        .link-paste-desc {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 24px;
        }

        .link-input-wrapper {
            max-width: 500px;
            margin: 0 auto 20px;
            position: relative;
        }

        .link-input {
            width: 100%;
            padding: 16px 20px;
            padding-right: 120px;
            border: 2px solid var(--border);
            border-radius: var(--radius-lg);
            font-size: 14px;
            outline: none;
            transition: all .2s;
            box-sizing: border-box;
        }

        .link-input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-light);
        }

        .link-input-btn {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            padding: 10px 20px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all .2s;
        }

        .link-input-btn:hover {
            background: var(--accent-dark);
        }

        .link-types {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .link-type {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .link-type-icon {
            font-size: 16px;
        }

        .upload-icon {
            width: 64px;
            height: 64px;
            background: var(--accent-light);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            margin: 0 auto 20px;
        }

        .upload-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 8px;
        }

        .upload-desc {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .upload-types {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .upload-type {
            display: flex;
            align-items: center;
            gap: 6px;
            background: var(--bg-subtle);
            padding: 8px 14px;
            border-radius: var(--radius);
            font-size: 12px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .upload-type-icon {
            font-size: 16px;
        }

        /* ========== 知识库列表 ========== */
        .knowledge-list-section {
            background: white;
            border: 2px solid var(--border-subtle);
            border-radius: var(--radius-xl);
            overflow: hidden;
        }

        /* 分类 Tab 切换 */
        .category-tabs {
            display: flex;
            gap: 4px;
            padding: 4px 20px;
            background: #f8fafc;
            border-bottom: 1px solid var(--border);
        }

        .category-tab {
            padding: 10px 16px;
            font-size: 13px;
            color: var(--text-secondary);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all .2s;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .category-tab:hover {
            color: var(--text);
        }

        .category-tab.active {
            color: var(--accent);
            border-color: var(--accent);
            font-weight: 600;
        }

        .category-tab .tab-count {
            font-size: 11px;
            background: var(--bg-subtle);
            padding: 2px 6px;
            border-radius: 4px;
            color: var(--text-muted);
        }

        .category-tab.active .tab-count {
            background: var(--accent-light);
            color: var(--accent);
        }

        .category-tab.add-tab {
            color: var(--text-muted);
            border-bottom: none;
        }

        .category-tab.add-tab:hover {
            color: var(--accent);
            background: var(--accent-light);
            border-radius: var(--radius);
        }

        .list-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border-subtle);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--bg-subtle);
        }

        .list-title {
            font-size: 16px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .list-count {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-secondary);
            background: white;
            padding: 4px 10px;
            border-radius: 20px;
            border: 1px solid var(--border);
        }

        .list-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .search-box {
            display: flex;
            align-items: center;
            background: white;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 8px 14px;
            gap: 8px;
            width: 280px;
            transition: all .2s;
        }

        .search-box:focus-within {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-light);
        }

        .search-box input {
            border: none;
            outline: none;
            font-size: 13px;
            flex: 1;
            background: transparent;
        }

        .search-box input::placeholder {
            color: var(--text-muted);
        }

        .filter-select {
            padding: 8px 14px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-size: 13px;
            background: white;
            color: var(--text);
            cursor: pointer;
            outline: none;
            transition: all .2s;
            min-width: 160px;
        }

        .filter-select:hover {
            border-color: var(--accent);
            background: var(--bg-subtle);
        }

        .filter-select:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-light);
        }

        /* 表格样式 */
        .knowledge-table {
            width: 100%;
            border-collapse: collapse;
        }

        .knowledge-table th {
            text-align: left;
            padding: 14px 24px;
            font-size: 11px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            background: #fafbfc;
            border-bottom: 1px solid var(--border);
        }

        .knowledge-table td {
            padding: 16px 24px;
            border-bottom: 1px solid var(--border-subtle);
            font-size: 14px;
            color: var(--text);
        }

        .knowledge-table tbody tr {
            transition: all .2s;
            cursor: pointer;
        }

        .knowledge-table tbody tr:hover {
            background: var(--bg-subtle);
        }

        .knowledge-table tbody tr.selected {
            background: var(--accent-light);
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .file-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .file-icon.pdf { background: #fef2f2; color: #ef4444; }
        .file-icon.doc { background: #eff6ff; color: #3b82f6; }
        .file-icon.xls { background: #ecfdf5; color: #10b981; }
        .file-icon.ppt { background: #fef3c7; color: #f59e0b; }
        .file-icon.txt { background: var(--bg-subtle); color: var(--text-secondary); }
        /* 链接类型图标 */
        .file-icon.link-wechat { background: #ecfdf5; color: #22c55e; }
        .file-icon.link-web { background: #eff6ff; color: #3b82f6; }
        .file-icon.link-xiaohongshu { background: #fef2f2; color: #ef4444; }
        .file-icon.link-weibo { background: #fef3c7; color: #f59e0b; }
        .file-icon.link-other { background: var(--bg-subtle); color: var(--text-secondary); }

        .file-name {
            font-weight: 600;
            margin-bottom: 2px;
        }

        .file-meta {
            font-size: 12px;
            color: var(--text-muted);
        }

        .node-count {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: var(--accent-light);
            color: var(--accent);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 500;
        }

        .status-badge.ready {
            background: var(--success-light);
            color: var(--success);
        }

        .status-badge.processing {
            background: var(--warning-light);
            color: var(--warning);
        }

        .status-badge.error {
            background: var(--danger-light);
            color: var(--danger);
        }

        .action-btns {
            display: flex;
            gap: 2px;
            align-items: center;
            opacity: 0;
            transition: opacity .2s;
        }

        tr:hover .action-btns {
            opacity: 1;
        }

        .action-btn {
            padding: 0;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            color: var(--accent);
            text-decoration: none;
            transition: all .2s;
        }

        .action-btn:hover {
            text-decoration: underline;
        }

        .action-btn.delete {
            color: var(--danger);
        }

        .action-btn.delete:hover {
            text-decoration: underline;
        }

        .action-separator {
            color: var(--border);
            margin: 0 8px;
            user-select: none;
        }

        /* 分页 */
        .pagination {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 24px;
            border-top: 1px solid var(--border-subtle);
            background: #fafbfc;
        }

        .pagination-info {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .pagination-controls {
            display: flex;
            gap: 8px;
        }

        .page-btn {
            min-width: 36px;
            height: 36px;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all .2s;
        }

        .page-btn:hover {
            background: var(--bg-subtle);
        }

        .page-btn.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ========== 知识详情侧边栏 ========== */
        .detail-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 23, 42, 0.4);
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all .3s;
        }

        .detail-overlay.open {
            opacity: 1;
            visibility: visible;
        }

        .detail-panel {
            position: fixed;
            top: 0;
            right: 0;
            width: 480px;
            height: 100vh;
            background: white;
            box-shadow: var(--shadow-xl);
            z-index: 101;
            transform: translateX(100%);
            transition: transform .3s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex;
            flex-direction: column;
        }

        .detail-panel.open {
            transform: translateX(0);
        }

        .detail-header {
            padding: 24px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .detail-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .detail-meta {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .detail-close {
            width: 36px;
            height: 36px;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            transition: all .2s;
        }

        .detail-close:hover {
            background: var(--bg-subtle);
        }

        .detail-body {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }

        .detail-section {
            margin-bottom: 28px;
        }

        .detail-section-title {
            font-size: 12px;
            font-weight: 700;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 16px;
        }

        .detail-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .detail-stat {
            background: var(--bg-subtle);
            border-radius: var(--radius);
            padding: 16px;
        }

        .detail-stat-label {
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .detail-stat-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--text);
        }

        .node-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .node-item {
            background: var(--bg-subtle);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius);
            padding: 14px;
            transition: all .2s;
        }

        .node-item:hover {
            border-color: var(--accent);
            background: white;
        }

        .node-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .node-item-type {
            font-size: 10px;
            font-weight: 600;
            color: var(--accent);
            background: var(--accent-light);
            padding: 2px 8px;
            border-radius: 4px;
            text-transform: uppercase;
        }

        .node-item-id {
            font-size: 11px;
            color: var(--text-muted);
            font-family: monospace;
        }

        .node-item-content {
            font-size: 13px;
            color: var(--text);
            line-height: 1.6;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .detail-footer {
            padding: 20px 24px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 12px;
        }

        .detail-footer .btn {
            flex: 1;
            padding: 14px 20px;
        }

        /* ========== 空状态 ========== */
        .empty-state {
            padding: 60px 40px;
            text-align: center;
        }

        .empty-state-icon {
            width: 80px;
            height: 80px;
            background: var(--bg-subtle);
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            margin: 0 auto 20px;
        }

        .empty-state-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .empty-state-desc {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 24px;
        }

        /* ========== 响应式 ========== */
        @media (max-width: 1200px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .completeness-panel {
                flex-direction: column;
                text-align: center;
            }

            .completeness-info {
                text-align: center;
            }

            .knowledge-gap {
                justify-content: center;
            }
        }

        /* ========== 画板模式（Artboard Mode）========== */
        /* 说明: 用于产品评审，将所有页面状态铺开展示 */

        /* 模式切换器 */
        .mode-switcher {
            position: fixed;
            top: 16px;
            right: 16px;
            z-index: 9999;
            display: flex;
            gap: 8px;
            background: white;
            padding: 6px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
        }

        .mode-btn {
            padding: 8px 16px;
            font-size: 13px;
            font-weight: 600;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            transition: all .2s;
            display: flex;
            align-items: center;
            gap: 6px;
            background: transparent;
            color: var(--text-secondary);
        }

        .mode-btn:hover {
            background: var(--bg-subtle);
            color: var(--text);
        }

        .mode-btn.active {
            background: var(--accent);
            color: white;
        }

        .mode-btn-export {
            background: var(--bg-subtle);
            color: var(--text);
        }

        .mode-btn-export:hover {
            background: var(--accent-light);
            color: var(--accent);
        }

        /* 画板模式激活时的整体布局 */
        body.artboard-mode {
            display: block;
            background: #e5e7eb;
            min-height: auto;
        }

        body.artboard-mode .sidebar,
        body.artboard-mode .main {
            display: none;
        }

        body.artboard-mode .artboard-container {
            display: block;
        }

        /* 画板容器 */
        .artboard-container {
            display: none;
            padding: 80px 40px 40px;
            max-width: 1600px;
            margin: 0 auto;
        }

        .artboard-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .artboard-header h1 {
            font-size: 28px;
            font-weight: 800;
            color: var(--text);
            margin-bottom: 8px;
        }

        .artboard-header p {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .artboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 32px;
        }

        /* 单个画板 */
        .artboard {
            background: white;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            position: relative;
        }

        .artboard-label {
            background: var(--text);
            color: white;
            padding: 12px 20px;
            font-size: 13px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .artboard-label-id {
            background: rgba(255,255,255,0.2);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
        }

        .artboard-content {
            position: relative;
            height: 300px;
            overflow: hidden;
            background: var(--bg);
        }

        .artboard-content.tall {
            height: 500px;
        }

        .artboard-content.modal {
            height: auto;
            padding: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }

        .artboard-content.toast {
            height: auto;
            padding: 24px;
            min-height: 80px;
        }

        /* 画板内的缩放预览 */
        .artboard-preview {
            transform: scale(0.5);
            transform-origin: top left;
            width: 200%;
            height: 200%;
            pointer-events: none;
        }

        /* 画板内页面预览容器 */
        .artboard-page-preview {
            transform: scale(0.35);
            transform-origin: top left;
            width: 286%;
            position: absolute;
            top: 0;
            left: 0;
            background: var(--bg);
            padding: 20px;
        }

        .artboard-content.tall .artboard-page-preview {
            transform: scale(0.4);
            width: 250%;
        }

        /* 画板内侧边栏预览 */
        .artboard-sidebar-preview {
            background: white;
            height: 100%;
            padding: 24px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        /* 画板内组件预览 */
        .artboard-component-preview {
            padding: 20px;
            background: var(--bg);
            height: 100%;
            box-sizing: border-box;
            overflow-y: auto;
        }

        /* 画板下载按钮（在header内，编号左边） */
        .artboard-download-btn {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            background: rgba(255,255,255,0.15);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: white;
            transition: background .2s;
            margin-left: auto;
            margin-right: 12px;
        }

        .artboard-download-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        /* 分类标题 */
        .artboard-section-title {
            grid-column: 1 / -1;
            font-size: 18px;
            font-weight: 700;
            color: var(--text);
            padding: 20px 0 10px;
            border-bottom: 2px solid var(--border);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .artboard-section-title span {
            font-size: 20px;
        }

        /* 画板模式下隐藏遮罩层 */
        body.artboard-mode .detail-overlay,
        body.artboard-mode .detail-panel {
            display: none !important;
        }

        /* 打印样式 */
        @media print {
            body.artboard-mode {
                background: white;
            }

            .mode-switcher {
                display: none !important;
            }

            .artboard-container {
                padding: 20px;
            }

            .artboard-grid {
                display: block;
            }

            .artboard {
                page-break-inside: avoid;
                margin-bottom: 30px;
                box-shadow: none;
                border: 2px solid var(--border);
            }

            .artboard-section-title {
                page-break-before: always;
            }

            .artboard-section-title:first-child {
                page-break-before: auto;
            }

            .artboard-capture-btn {
                display: none;
            }
        }

        /* 链接爬取动画 */
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        @keyframes progress {
            0% { width: 20%; }
            50% { width: 80%; }
            100% { width: 20%; }
        }
        @keyframes toastIn {
            from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
        @keyframes toastOut {
            from { opacity: 1; transform: translateX(-50%) translateY(0); }
            to { opacity: 0; transform: translateX(-50%) translateY(-20px); }
        }
    </style>
    <!-- html2canvas for screenshot export -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>

<body>
    <!-- ========== 画板模式切换器 ========== -->
    <div class="mode-switcher">
        <button class="mode-btn active" onclick="switchMode('interactive')" id="modeInteractive">
            🖥️ 交互模式
        </button>
        <button class="mode-btn" onclick="switchMode('artboard')" id="modeArtboard">
            📋 画板模式
        </button>
        <button class="mode-btn mode-btn-export" onclick="printArtboards()" id="modePrint" style="display:none">
            🖨️ 打印导出
        </button>
    </div>

    <!-- ========== 画板容器（画板模式时显示）========== -->
    <div class="artboard-container" id="artboardContainer">
        <div class="artboard-header">
            <h1>📚 知识库 · 原型画板</h1>
            <p>共 24 个画板 · 包含页面、组件、上传状态、链接爬取、侧边栏、评测流程、Toast、表格行、Agent完整性等所有状态</p>
        </div>

        <div class="artboard-grid">
            <!-- 页面状态 -->
            <div class="artboard-section-title"><span>📄</span> 页面状态</div>

            <div class="artboard" id="artboard-1">
                <div class="artboard-label">
                    <span>知识库 · 默认状态（有数据）</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-1', '01-知识库-默认状态')">⬇</button>
                    <span class="artboard-label-id">#1</span>
                </div>
                <div class="artboard-content tall" id="artboard-content-1">
                    <div class="artboard-page-preview">
                        <!-- Agent完整性面板 -->
                        <div style="background:white;border-radius:16px;padding:28px;margin-bottom:20px;display:flex;gap:32px;align-items:flex-start">
                            <div style="position:relative;width:120px;height:120px">
                                <svg width="120" height="120" style="transform:rotate(-90deg)">
                                    <circle cx="60" cy="60" r="52" fill="none" stroke="#f1f5f9" stroke-width="12"/>
                                    <circle cx="60" cy="60" r="52" fill="none" stroke="#6366f1" stroke-width="12" stroke-dasharray="327" stroke-dashoffset="72" stroke-linecap="round"/>
                                </svg>
                                <div style="position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center">
                                    <div style="font-size:28px;font-weight:800;color:#1e293b">78%</div>
                                    <div style="font-size:11px;color:#64748b">完整度</div>
                                </div>
                            </div>
                            <div style="flex:1">
                                <h2 style="font-size:18px;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:8px">📊 Agent 知识完整度 <span style="font-size:12px;color:#22c55e;font-weight:500">↑ 5%</span></h2>
                                <p style="font-size:13px;color:#64748b;margin-bottom:16px;line-height:1.6">知识库是企业 Agent 的生命养分——持续补充资料，让您的专属 Agent 更聪明、更懂业务。</p>
                                <div style="background:#f8fafc;border-radius:12px;padding:16px">
                                    <div style="font-size:12px;font-weight:700;color:#64748b;margin-bottom:12px;display:flex;align-items:center;gap:6px">💡 智能补充建议</div>
                                    <div style="display:flex;flex-direction:column;gap:8px">
                                        <div style="background:white;border:1px solid #e2e8f0;border-radius:8px;padding:12px 14px;display:flex;justify-content:space-between;align-items:center">
                                            <div style="flex:1">
                                                <div style="font-size:13px;font-weight:600;margin-bottom:4px">新媒体运营</div>
                                                <div style="font-size:12px;color:#64748b;line-height:1.4">当前无相关资料，建议补充公众号文章或运营文档</div>
                                            </div>
                                            <button style="padding:6px 14px;background:#6366f1;color:white;border:none;border-radius:6px;font-size:11px;font-weight:600;cursor:pointer;flex-shrink:0;margin-left:12px">立即补充</button>
                                        </div>
                                        <div style="background:white;border:1px solid #e2e8f0;border-radius:8px;padding:12px 14px;display:flex;justify-content:space-between;align-items:center">
                                            <div style="flex:1">
                                                <div style="font-size:13px;font-weight:600;margin-bottom:4px">退换货政策</div>
                                                <div style="font-size:12px;color:#64748b;line-height:1.4">已有部分资料，建议补充详细说明</div>
                                            </div>
                                            <button style="padding:6px 14px;background:#6366f1;color:white;border:none;border-radius:6px;font-size:11px;font-weight:600;cursor:pointer;flex-shrink:0;margin-left:12px">立即补充</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 数据概览瓦片 -->
                        <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:20px">
                            <div style="background:white;border-radius:12px;padding:20px"><div style="font-size:12px;color:#64748b;margin-bottom:8px">📄 文档数量</div><div style="font-size:28px;font-weight:800">28</div></div>
                            <div style="background:white;border-radius:12px;padding:20px"><div style="font-size:12px;color:#64748b;margin-bottom:8px">🔗 知识节点</div><div style="font-size:28px;font-weight:800">1,240</div></div>
                            <div style="background:white;border-radius:12px;padding:20px"><div style="font-size:12px;color:#64748b;margin-bottom:8px">❓ 未命中</div><div style="font-size:28px;font-weight:800">12</div></div>
                        </div>
                        <!-- 上传区域 -->
                        <div style="background:white;border-radius:12px;padding:20px;margin-bottom:20px">
                            <div style="display:flex;border-bottom:1px solid #e2e8f0;margin-bottom:16px">
                                <div style="padding:8px 16px;font-size:13px;font-weight:600;color:#6366f1;border-bottom:2px solid #6366f1">📤 从文件上传</div>
                                <div style="padding:8px 16px;font-size:13px;color:#64748b">🌐 从网页上传</div>
                            </div>
                            <div style="border:2px dashed #e2e8f0;border-radius:12px;padding:32px;text-align:center">
                                <div style="font-size:32px;margin-bottom:8px">📤</div>
                                <div style="font-size:14px;font-weight:600;margin-bottom:4px">拖拽文件到此处，或点击上传</div>
                                <div style="font-size:12px;color:#64748b">支持 PDF、Word、PPT、TXT、Markdown、图片</div>
                            </div>
                        </div>
                        <!-- 知识库文件列表 -->
                        <div style="background:white;border-radius:12px;padding:20px">
                            <div style="font-size:15px;font-weight:700;margin-bottom:16px">📚 知识库文件 <span style="font-size:12px;color:#64748b;font-weight:400">共 30 份（28 文档 + 2 链接）</span></div>
                            <table style="width:100%;border-collapse:collapse;font-size:13px">
                                <thead><tr style="border-bottom:1px solid #e2e8f0"><th style="text-align:left;padding:10px 8px;color:#64748b;font-weight:500">文件名</th><th style="padding:10px 8px;color:#64748b;font-weight:500">节点</th><th style="padding:10px 8px;color:#64748b;font-weight:500">状态</th></tr></thead>
                                <tbody>
                                    <tr style="border-bottom:1px solid #f1f5f9"><td style="padding:12px 8px"><span style="margin-right:8px">📕</span>产品手册V3.pdf</td><td style="padding:12px 8px;text-align:center">156</td><td style="padding:12px 8px;text-align:center"><span style="background:#ecfdf5;color:#22c55e;padding:2px 8px;border-radius:10px;font-size:11px">✓ 已就绪</span></td></tr>
                                    <tr style="border-bottom:1px solid #f1f5f9"><td style="padding:12px 8px"><span style="margin-right:8px">📘</span>客服FAQ问答集.docx</td><td style="padding:12px 8px;text-align:center">89</td><td style="padding:12px 8px;text-align:center"><span style="background:#ecfdf5;color:#22c55e;padding:2px 8px;border-radius:10px;font-size:11px">✓ 已就绪</span></td></tr>
                                    <tr><td style="padding:12px 8px"><span style="margin-right:8px">📱</span>公司介绍-公众号</td><td style="padding:12px 8px;text-align:center">45</td><td style="padding:12px 8px;text-align:center"><span style="background:#ecfdf5;color:#22c55e;padding:2px 8px;border-radius:10px;font-size:11px">✓ 已就绪</span></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-2">
                <div class="artboard-label">
                    <span>知识库 · 空状态（无数据）</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-2', '02-知识库-空状态')">⬇</button>
                    <span class="artboard-label-id">#2</span>
                </div>
                <div class="artboard-content tall" id="artboard-content-2">
                    <div class="artboard-page-preview">
                        <!-- Agent完整性面板 - 0%空状态 -->
                        <div style="background:white;border-radius:16px;padding:28px;margin-bottom:20px;display:flex;gap:32px;align-items:flex-start">
                            <div style="position:relative;width:120px;height:120px">
                                <svg width="120" height="120" style="transform:rotate(-90deg)">
                                    <circle cx="60" cy="60" r="52" fill="none" stroke="#f1f5f9" stroke-width="12"/>
                                    <circle cx="60" cy="60" r="52" fill="none" stroke="#e2e8f0" stroke-width="12" stroke-dasharray="327" stroke-dashoffset="327" stroke-linecap="round"/>
                                </svg>
                                <div style="position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center">
                                    <div style="font-size:28px;font-weight:800;color:#94a3b8">0%</div>
                                    <div style="font-size:11px;color:#64748b">完整度</div>
                                </div>
                            </div>
                            <div style="flex:1">
                                <h2 style="font-size:18px;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:8px">📊 Agent 知识完整度</h2>
                                <p style="font-size:13px;color:#64748b;margin-bottom:16px;line-height:1.6">知识库是企业 Agent 的生命养分——开始上传资料，让您的专属 Agent 更聪明、更懂业务。</p>
                                <div style="background:#fef3c7;border:1px solid #fbbf24;border-radius:12px;padding:16px">
                                    <div style="font-size:12px;font-weight:700;color:#92400e;margin-bottom:6px;display:flex;align-items:center;gap:6px">⚠️ 当前知识库为空</div>
                                    <div style="font-size:12px;color:#92400e;line-height:1.5">请上传文档或添加链接，开始构建您的知识库。</div>
                                </div>
                            </div>
                        </div>
                        <!-- 数据概览瓦片 - 全部为0 -->
                        <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:20px">
                            <div style="background:white;border-radius:12px;padding:20px"><div style="font-size:12px;color:#64748b;margin-bottom:8px">📄 文档数量</div><div style="font-size:28px;font-weight:800;color:#94a3b8">0</div></div>
                            <div style="background:white;border-radius:12px;padding:20px"><div style="font-size:12px;color:#64748b;margin-bottom:8px">🔗 知识节点</div><div style="font-size:28px;font-weight:800;color:#94a3b8">0</div></div>
                            <div style="background:white;border-radius:12px;padding:20px"><div style="font-size:12px;color:#64748b;margin-bottom:8px">❓ 未命中</div><div style="font-size:28px;font-weight:800;color:#94a3b8">--</div></div>
                        </div>
                        <!-- 上传区域 -->
                        <div style="background:white;border-radius:12px;padding:20px;margin-bottom:20px">
                            <div style="display:flex;border-bottom:1px solid #e2e8f0;margin-bottom:16px">
                                <div style="padding:8px 16px;font-size:13px;font-weight:600;color:#6366f1;border-bottom:2px solid #6366f1">📤 从文件上传</div>
                                <div style="padding:8px 16px;font-size:13px;color:#64748b">🌐 从网页上传</div>
                            </div>
                            <div style="border:2px dashed #e2e8f0;border-radius:12px;padding:32px;text-align:center">
                                <div style="font-size:32px;margin-bottom:8px">📤</div>
                                <div style="font-size:14px;font-weight:600;margin-bottom:4px">拖拽文件到此处，或点击上传</div>
                                <div style="font-size:12px;color:#64748b">支持 PDF、Word、PPT、TXT、Markdown、图片</div>
                            </div>
                        </div>
                        <!-- 知识库文件列表 - 空状态 -->
                        <div style="background:white;border-radius:12px;padding:48px 20px;text-align:center">
                            <div style="font-size:64px;margin-bottom:16px;opacity:0.5">📭</div>
                            <div style="font-size:16px;font-weight:600;color:#1e293b;margin-bottom:8px">暂无知识文档</div>
                            <div style="font-size:13px;color:#64748b;margin-bottom:20px">上传文档或添加链接，让 Agent 更聪明</div>
                            <button style="padding:10px 24px;background:#6366f1;color:white;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer">📤 上传文档</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 组件状态 -->
            <div class="artboard-section-title"><span>🔧</span> 组件状态</div>

            <div class="artboard" id="artboard-3">
                <div class="artboard-label">
                    <span>搜索框 · 激活状态</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-3', '03-知识库-搜索激活')">⬇</button>
                    <span class="artboard-label-id">#3</span>
                </div>
                <div class="artboard-content tall" id="artboard-content-3">
                    <div class="artboard-component-preview">
                        <!-- 搜索框聚焦状态 -->
                        <div style="background:white;border-radius:12px;padding:20px;margin-bottom:16px">
                            <div style="display:flex;align-items:center;gap:10px;padding:12px 16px;border:2px solid var(--accent);border-radius:8px;box-shadow:0 0 0 3px var(--accent-light)">
                                <span style="font-size:16px">🔍</span>
                                <input type="text" value="产品手册" readonly style="border:none;outline:none;flex:1;background:transparent;font-size:14px">
                                <span style="font-size:12px;color:var(--text-muted);cursor:pointer">✕</span>
                            </div>
                            <div style="margin-top:12px;font-size:13px;color:var(--text-secondary)">
                                找到 <strong style="color:var(--accent)">3</strong> 个匹配结果
                            </div>
                        </div>
                        <!-- 搜索结果列表（高亮匹配项）-->
                        <div style="background:white;border-radius:12px;padding:16px">
                            <div style="font-size:13px;font-weight:700;color:var(--text-muted);margin-bottom:12px">搜索结果</div>
                            <div style="display:flex;flex-direction:column;gap:8px">
                                <div style="padding:12px;background:var(--accent-light);border:1px solid var(--accent);border-radius:8px;display:flex;align-items:center;gap:12px">
                                    <span style="font-size:20px">📕</span>
                                    <div style="flex:1">
                                        <div style="font-size:13px;font-weight:600"><mark style="background:#fef08a;padding:0 2px">产品手册</mark>V3.pdf</div>
                                        <div style="font-size:11px;color:var(--text-muted)">156 节点 · 上传于 2小时前</div>
                                    </div>
                                    <span style="font-size:11px;color:var(--accent);font-weight:600">94% 匹配</span>
                                </div>
                                <div style="padding:12px;background:var(--bg-subtle);border:1px solid var(--border);border-radius:8px;display:flex;align-items:center;gap:12px">
                                    <span style="font-size:20px">📘</span>
                                    <div style="flex:1">
                                        <div style="font-size:13px;font-weight:600"><mark style="background:#fef08a;padding:0 2px">产品</mark>定价说明.docx</div>
                                        <div style="font-size:11px;color:var(--text-muted)">45 节点 · 上传于 1天前</div>
                                    </div>
                                    <span style="font-size:11px;color:var(--text-muted);font-weight:600">72% 匹配</span>
                                </div>
                                <div style="padding:12px;background:var(--bg-subtle);border:1px solid var(--border);border-radius:8px;display:flex;align-items:center;gap:12px">
                                    <span style="font-size:20px">📝</span>
                                    <div style="flex:1">
                                        <div style="font-size:13px;font-weight:600"><mark style="background:#fef08a;padding:0 2px">产品</mark>FAQ问答.md</div>
                                        <div style="font-size:11px;color:var(--text-muted)">89 节点 · 上传于 3天前</div>
                                    </div>
                                    <span style="font-size:11px;color:var(--text-muted);font-weight:600">65% 匹配</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 上传区域状态 -->
            <div class="artboard-section-title"><span>📤</span> 上传区域状态</div>

            <div class="artboard" id="artboard-4">
                <div class="artboard-label">
                    <span>上传区域·文件Tab（页面内组件）</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-4', '04-上传区域-文件Tab')">⬇</button>
                    <span class="artboard-label-id">#4</span>
                </div>
                <div style="font-size:11px;color:var(--text-muted);padding:8px 16px;background:var(--bg-subtle);border-bottom:1px solid var(--border)">
                    💡 此为页面中间的上传区域，非独立弹窗
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:12px;overflow:hidden">
                            <div style="display:flex;border-bottom:1px solid var(--border)">
                                <div style="flex:1;padding:14px 20px;font-size:13px;font-weight:600;color:var(--accent);border-bottom:2px solid var(--accent);background:white;text-align:center">📤 从文件上传</div>
                                <div style="flex:1;padding:14px 20px;font-size:13px;color:var(--text-secondary);background:var(--bg-subtle);text-align:center">🌐 从网页上传</div>
                            </div>
                            <div style="padding:24px">
                                <div style="border:2px dashed var(--border);border-radius:12px;padding:40px;text-align:center">
                                    <div style="font-size:40px;margin-bottom:12px">📤</div>
                                    <div style="font-size:15px;font-weight:600;margin-bottom:6px">拖拽文件到此处，或点击上传</div>
                                    <div style="font-size:13px;color:var(--text-secondary);margin-bottom:16px">上传成功后，Agent 完整性将自动更新</div>
                                    <div style="display:flex;justify-content:center;gap:12px;font-size:12px;color:var(--text-muted)">
                                        <span>📕 PDF</span><span>📘 Word</span><span>📙 PPT</span><span>📄 TXT</span><span>📝 Markdown</span><span>🖼️ 图片</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-5">
                <div class="artboard-label">
                    <span>上传区域·链接Tab（页面内组件）</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-5', '05-上传区域-链接Tab')">⬇</button>
                    <span class="artboard-label-id">#5</span>
                </div>
                <div style="font-size:11px;color:var(--text-muted);padding:8px 16px;background:var(--bg-subtle);border-bottom:1px solid var(--border)">
                    💡 此为页面中间的上传区域，非独立弹窗
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:12px;overflow:hidden">
                            <div style="display:flex;border-bottom:1px solid var(--border)">
                                <div style="flex:1;padding:14px 20px;font-size:13px;color:var(--text-secondary);background:var(--bg-subtle);text-align:center">📤 从文件上传</div>
                                <div style="flex:1;padding:14px 20px;font-size:13px;font-weight:600;color:var(--accent);border-bottom:2px solid var(--accent);background:white;text-align:center">🌐 从网页上传</div>
                            </div>
	                                <div style="padding:24px;text-align:center">
	                                    <div style="font-size:40px;margin-bottom:12px">🔗</div>
	                                    <div style="font-size:15px;font-weight:600;margin-bottom:6px">粘贴链接，自动识别内容</div>
	                                    <div style="display:flex;gap:8px;max-width:400px;margin:0 auto 16px">
	                                        <input type="text" value="https://mp.weixin.qq.com/s/..." readonly style="flex:1;padding:12px 16px;border:1px solid var(--border);border-radius:8px;font-size:13px">
	                                        <button style="padding:12px 20px;background:var(--accent);color:white;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer">添加链接</button>
	                                    </div>
                                <div style="display:flex;justify-content:center;gap:12px;font-size:12px;color:var(--text-muted)">
                                    <span>🌐 官网</span><span>📱 公众号</span><span>📕 小红书</span><span>🐦 微博</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-6">
                <div class="artboard-label">
                    <span>上传区域·拖拽中（页面内组件）</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-6', '06-上传区域-拖拽中')">⬇</button>
                    <span class="artboard-label-id">#6</span>
                </div>
                <div style="font-size:11px;color:var(--text-muted);padding:8px 16px;background:var(--bg-subtle);border-bottom:1px solid var(--border)">
                    💡 此为页面中间的上传区域，非独立弹窗
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:12px;overflow:hidden">
                            <div style="display:flex;border-bottom:1px solid var(--border)">
                                <div style="flex:1;padding:14px 20px;font-size:13px;font-weight:600;color:var(--accent);border-bottom:2px solid var(--accent);background:white;text-align:center">📤 从文件上传</div>
                                <div style="flex:1;padding:14px 20px;font-size:13px;color:var(--text-secondary);background:var(--bg-subtle);text-align:center">🌐 从网页上传</div>
                            </div>
                            <div style="padding:24px">
                                <div style="border:2px dashed var(--accent);border-radius:12px;padding:40px;text-align:center;background:var(--accent-light)">
                                    <div style="font-size:48px;margin-bottom:12px">📥</div>
                                    <div style="font-size:16px;font-weight:700;color:var(--accent);margin-bottom:6px">松开鼠标，开始上传</div>
                                    <div style="font-size:13px;color:var(--accent)">检测到 2 个文件</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 上传状态 & 确认弹窗 -->
            <div class="artboard-section-title"><span>📤</span> 上传状态 & 确认弹窗</div>

            <div class="artboard" id="artboard-7">
                <div class="artboard-label">
                    <span>上传区域·正在上传（页面内组件）</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-7', '07-上传区域-正在上传')">⬇</button>
                    <span class="artboard-label-id">#7</span>
                </div>
                <div style="font-size:11px;color:var(--text-muted);padding:8px 16px;background:var(--bg-subtle);border-bottom:1px solid var(--border)">
                    💡 此为页面中间上传区域的上传进度状态，非独立弹窗
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:12px;overflow:hidden">
                            <div style="display:flex;border-bottom:1px solid var(--border)">
                                <div style="flex:1;padding:14px 20px;font-size:13px;font-weight:600;color:var(--accent);border-bottom:2px solid var(--accent);background:white;text-align:center">📤 从文件上传</div>
                                <div style="flex:1;padding:14px 20px;font-size:13px;color:var(--text-secondary);background:var(--bg-subtle);text-align:center">🌐 从网页上传</div>
                            </div>
                            <div style="padding:24px">
                                <div style="border:2px solid var(--accent);border-radius:12px;padding:24px;background:var(--accent-light)">
                                    <div style="display:flex;align-items:center;gap:16px;margin-bottom:16px">
                                        <div style="width:48px;height:48px;background:white;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:24px">📕</div>
                                        <div style="flex:1">
                                            <div style="font-size:14px;font-weight:600;margin-bottom:6px">产品手册.pdf</div>
                                            <div style="height:6px;background:white;border-radius:3px;overflow:hidden">
                                                <div style="height:100%;width:65%;background:var(--accent);border-radius:3px"></div>
                                            </div>
                                            <div style="font-size:12px;color:var(--accent);margin-top:6px;font-weight:500">上传中 65%</div>
                                        </div>
                                    </div>
                                    <div style="font-size:13px;color:var(--text-secondary);text-align:center">文件上传完成后将自动解析并更新知识库</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-8">
                <div class="artboard-label">
                    <span>上传区域·上传完成（页面内组件）</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-8', '08-上传区域-上传完成')">⬇</button>
                    <span class="artboard-label-id">#8</span>
                </div>
                <div style="font-size:11px;color:var(--text-muted);padding:8px 16px;background:var(--bg-subtle);border-bottom:1px solid var(--border)">
                    💡 此为页面中间上传区域的上传完成状态，非独立弹窗
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:12px;overflow:hidden">
                            <div style="display:flex;border-bottom:1px solid var(--border)">
                                <div style="flex:1;padding:14px 20px;font-size:13px;font-weight:600;color:var(--accent);border-bottom:2px solid var(--accent);background:white;text-align:center">📤 从文件上传</div>
                                <div style="flex:1;padding:14px 20px;font-size:13px;color:var(--text-secondary);background:var(--bg-subtle);text-align:center">🌐 从网页上传</div>
                            </div>
                            <div style="padding:24px">
                                <div style="border:2px solid var(--success);border-radius:12px;padding:24px;background:var(--success-light);text-align:center">
                                    <div style="font-size:40px;margin-bottom:12px">🎉</div>
                                    <div style="font-size:16px;font-weight:700;color:var(--success);margin-bottom:8px">上传成功！</div>
                                    <div style="font-size:13px;color:var(--text-secondary);line-height:1.6">
                                        新增 <span style="color:var(--success);font-weight:700">2</span> 份文档，
                                        <span style="color:var(--success);font-weight:700">89</span> 个知识节点<br>
                                        Agent 完整性提升至 <span style="color:var(--success);font-weight:700">85%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-9">
                <div class="artboard-label">
                    <span>上传区域·上传失败（页面内组件）</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-9', '09-上传区域-上传失败')">⬇</button>
                    <span class="artboard-label-id">#9</span>
                </div>
                <div style="font-size:11px;color:var(--text-muted);padding:8px 16px;background:var(--bg-subtle);border-bottom:1px solid var(--border)">
                    💡 此为页面中间上传区域的上传失败状态，非独立弹窗
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:12px;overflow:hidden">
                            <div style="display:flex;border-bottom:1px solid var(--border)">
                                <div style="flex:1;padding:14px 20px;font-size:13px;font-weight:600;color:var(--accent);border-bottom:2px solid var(--accent);background:white;text-align:center">📤 从文件上传</div>
                                <div style="flex:1;padding:14px 20px;font-size:13px;color:var(--text-secondary);background:var(--bg-subtle);text-align:center">🌐 从网页上传</div>
                            </div>
                            <div style="padding:24px">
                                <div style="border:2px solid var(--danger);border-radius:12px;padding:24px;background:var(--danger-light);text-align:center">
                                    <div style="font-size:40px;margin-bottom:12px">❌</div>
                                    <div style="font-size:16px;font-weight:700;color:var(--danger);margin-bottom:8px">上传失败</div>
                                    <div style="font-size:13px;color:var(--text-secondary);line-height:1.6;margin-bottom:16px">
                                        文件格式不支持或网络连接中断<br>
                                        请检查文件格式后重试
                                    </div>
                                    <button style="padding:10px 24px;background:var(--accent);color:white;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer">重新上传</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-10">
                <div class="artboard-label">
                    <span>删除确认弹窗</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-10', '10-删除确认弹窗')">⬇</button>
                    <span class="artboard-label-id">#10</span>
                </div>
                <div class="artboard-content modal">
                    <div style="background:white;border-radius:var(--radius-xl);padding:32px;width:380px;box-shadow:var(--shadow-xl);text-align:center">
                        <div style="width:64px;height:64px;background:var(--danger-light);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;margin:0 auto 20px">🗑️</div>
                        <div style="font-size:18px;font-weight:700;margin-bottom:8px">确认删除？</div>
                        <div style="font-size:14px;color:var(--text-secondary);margin-bottom:24px">删除后，该文档的知识节点将从 Agent 中移除，此操作不可恢复。</div>
                        <div style="display:flex;gap:12px">
                            <button class="btn btn-secondary" style="flex:1">取消</button>
                            <button class="btn" style="flex:1;background:var(--danger);color:white">确认删除</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-11">
                <div class="artboard-label">
                    <span>链接爬取中</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-11', '11-链接爬取中')">⬇</button>
                    <span class="artboard-label-id">#11</span>
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:16px;padding:40px;text-align:center;max-width:500px">
                            <div style="font-size:48px;margin-bottom:16px;animation:pulse 1.5s ease-in-out infinite">🔄</div>
                            <div style="font-size:18px;font-weight:700;margin-bottom:8px">正在爬取网页内容...</div>
                            <div style="font-size:13px;color:#64748b;margin-bottom:24px">系统正在解析网页结构并提取知识节点</div>
                            <div style="background:#f8fafc;border-radius:12px;padding:16px">
                                <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                                    <span style="font-size:20px">📱</span>
                                    <div style="flex:1;text-align:left">
                                        <div style="font-size:13px;font-weight:600;margin-bottom:2px">mp.weixin.qq.com</div>
                                        <div style="font-size:11px;color:#64748b">微信公众号文章</div>
                                    </div>
                                </div>
                                <div style="background:#e2e8f0;border-radius:4px;height:6px;overflow:hidden">
                                    <div style="background:#6366f1;height:100%;width:60%;border-radius:4px"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-12">
                <div class="artboard-label">
                    <span>链接爬取成功</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-12', '12-链接爬取成功')">⬇</button>
                    <span class="artboard-label-id">#12</span>
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:16px;padding:40px;text-align:center;max-width:500px">
                            <div style="font-size:48px;margin-bottom:16px">✅</div>
                            <div style="font-size:18px;font-weight:700;color:#22c55e;margin-bottom:8px">爬取成功！</div>
                            <div style="font-size:13px;color:#64748b;margin-bottom:24px">网页内容已成功解析并添加到知识库</div>
                            <div style="background:#f0fdf4;border:1px solid #86efac;border-radius:12px;padding:16px;margin-bottom:20px">
                                <div style="display:flex;align-items:center;gap:12px">
                                    <span style="font-size:24px">📱</span>
                                    <div style="flex:1;text-align:left">
                                        <div style="font-size:13px;font-weight:600;margin-bottom:2px">公司介绍 - 公众号文章</div>
                                        <div style="font-size:11px;color:#15803d">已提取 12 个知识节点</div>
                                    </div>
                                    <span style="color:#22c55e;font-size:20px">✓</span>
                                </div>
                            </div>
                            <button style="padding:10px 24px;background:#6366f1;color:white;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer">继续添加</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 侧边栏状态 -->
            <div class="artboard-section-title"><span>📑</span> 侧边栏状态</div>

            <div class="artboard" id="artboard-13">
                <div class="artboard-label">
                    <span>详情侧边栏 · 文档类型</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-13', '13-详情侧边栏-文档')">⬇</button>
                    <span class="artboard-label-id">#13</span>
                </div>
                <div class="artboard-content tall" id="artboard-content-13">
                    <div class="artboard-sidebar-preview">
                        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px">
                            <div>
                                <div style="font-size:18px;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:8px">
                                    <span style="font-size:24px">📕</span> 产品手册V3.pdf
                                </div>
                                <div style="font-size:13px;color:var(--text-secondary)">2.4 MB · PDF 文档 · 上传于 2 小时前</div>
                            </div>
                            <button style="background:none;border:none;font-size:20px;cursor:pointer;color:var(--text-muted)">✕</button>
                        </div>
                        <div style="margin-bottom:28px">
                            <div style="font-size:12px;font-weight:700;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.1em;margin-bottom:16px">文件统计</div>
                            <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px">
                                <div style="background:var(--bg-subtle);border-radius:var(--radius);padding:16px">
                                    <div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">知识节点</div>
                                    <div style="font-size:20px;font-weight:700">156</div>
                                </div>
                                <div style="background:var(--bg-subtle);border-radius:var(--radius);padding:16px">
                                    <div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">召回次数</div>
                                    <div style="font-size:20px;font-weight:700">89</div>
                                </div>
                                <div style="background:var(--bg-subtle);border-radius:var(--radius);padding:16px">
                                    <div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">页数</div>
                                    <div style="font-size:20px;font-weight:700">32</div>
                                </div>
                            </div>
                        </div>
                        <div style="margin-bottom:20px">
                            <div style="font-size:12px;font-weight:700;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.1em;margin-bottom:12px">知识节点预览</div>
                            <div style="display:flex;flex-direction:column;gap:8px">
                                <div style="background:var(--bg-subtle);border-radius:8px;padding:12px">
                                    <div style="display:flex;justify-content:space-between;margin-bottom:6px">
                                        <span style="font-size:10px;background:var(--accent-light);color:var(--accent);padding:2px 6px;border-radius:4px">产品介绍</span>
                                        <span style="font-size:10px;color:var(--text-muted)">#node-001</span>
                                    </div>
                                    <div style="font-size:12px;color:var(--text-secondary);line-height:1.5">EVA 是一款面向企业的智能 Agent 平台，帮助企业快速构建专属的 AI 数字员工...</div>
                                </div>
                                <div style="background:var(--bg-subtle);border-radius:8px;padding:12px">
                                    <div style="display:flex;justify-content:space-between;margin-bottom:6px">
                                        <span style="font-size:10px;background:var(--accent-light);color:var(--accent);padding:2px 6px;border-radius:4px">功能说明</span>
                                        <span style="font-size:10px;color:var(--text-muted)">#node-002</span>
                                    </div>
                                    <div style="font-size:12px;color:var(--text-secondary);line-height:1.5">智能客服能力支持 7×24 小时自动应答，准确率达到 95% 以上...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-14">
                <div class="artboard-label">
                    <span>详情侧边栏 · 链接类型</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-14', '14-详情侧边栏-链接')">⬇</button>
                    <span class="artboard-label-id">#14</span>
                </div>
                <div class="artboard-content tall">
                    <div style="background:white;height:100%;padding:24px;box-sizing:border-box;overflow-y:auto">
                        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px">
                            <div>
                                <div style="font-size:18px;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:8px">
                                    <span style="font-size:24px">📱</span> 公司介绍 - 公众号文章
                                </div>
                                <div style="font-size:13px;color:var(--text-secondary)">链接 · 来自微信公众号</div>
                            </div>
                            <button style="background:none;border:none;font-size:20px;cursor:pointer;color:var(--text-muted)">✕</button>
                        </div>
                        <div style="margin-bottom:28px">
                            <div style="font-size:12px;font-weight:700;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.1em;margin-bottom:16px">链接信息</div>
                            <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
                                <div style="background:var(--bg-subtle);border-radius:var(--radius);padding:16px">
                                    <div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">知识节点</div>
                                    <div style="font-size:20px;font-weight:700">45</div>
                                </div>
                                <div style="background:var(--bg-subtle);border-radius:var(--radius);padding:16px">
                                    <div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">召回次数</div>
                                    <div style="font-size:20px;font-weight:700">23</div>
                                </div>
                                <div style="background:var(--bg-subtle);border-radius:var(--radius);padding:16px">
                                    <div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">爬取时间</div>
                                    <div style="font-size:14px;font-weight:600">2小时前</div>
                                </div>
                                <div style="background:var(--bg-subtle);border-radius:var(--radius);padding:16px">
                                    <div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">来源</div>
                                    <div style="font-size:14px;font-weight:600">微信公众号</div>
                                </div>
                            </div>
                        </div>
                        <div style="margin-bottom:20px">
                            <div style="font-size:12px;font-weight:700;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.1em;margin-bottom:12px">来源链接</div>
                            <div style="background:var(--bg-subtle);border-radius:var(--radius);padding:12px;display:flex;align-items:center;gap:12px">
                                <a href="#" style="flex:1;font-size:12px;color:var(--accent);word-break:break-all;text-decoration:none">https://mp.weixin.qq.com/s/abc123...</a>
                                <div style="display:flex;gap:8px;flex-shrink:0">
                                    <button style="background:none;border:none;font-size:14px;cursor:pointer;color:var(--text-muted);padding:4px" title="编辑链接">✏️</button>
                                    <button style="background:none;border:none;font-size:14px;cursor:pointer;color:var(--text-muted);padding:4px" title="刷新链接">🔄</button>
                                </div>
                            </div>
                        </div>
                        <div style="margin-bottom:20px">
                            <div style="font-size:12px;font-weight:700;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.1em;margin-bottom:12px">知识节点预览</div>
                            <div style="display:flex;flex-direction:column;gap:8px">
                                <div style="background:var(--bg-subtle);border-radius:8px;padding:12px">
                                    <div style="display:flex;justify-content:space-between;margin-bottom:6px">
                                        <span style="font-size:10px;background:var(--accent-light);color:var(--accent);padding:2px 6px;border-radius:4px">公司介绍</span>
                                        <span style="font-size:10px;color:var(--text-muted)">#node-001</span>
                                    </div>
                                    <div style="font-size:12px;color:var(--text-secondary);line-height:1.5">EVA 是一款面向企业的智能 Agent 平台，帮助企业快速构建专属的 AI 数字员工...</div>
                                </div>
                                <div style="background:var(--bg-subtle);border-radius:8px;padding:12px">
                                    <div style="display:flex;justify-content:space-between;margin-bottom:6px">
                                        <span style="font-size:10px;background:var(--accent-light);color:var(--accent);padding:2px 6px;border-radius:4px">核心优势</span>
                                        <span style="font-size:10px;color:var(--text-muted)">#node-002</span>
                                    </div>
                                    <div style="font-size:12px;color:var(--text-secondary);line-height:1.5">智能客服能力支持 7×24 小时自动应答，准确率达到 95% 以上...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 评测侧边栏 -->
            <div class="artboard-section-title"><span>📊</span> 评测侧边栏</div>

            <div class="artboard" id="artboard-15">
                <div class="artboard-label">
                    <span>评测侧边栏 · 配置评测</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-15', '15-评测侧边栏-配置')">⬇</button>
                    <span class="artboard-label-id">#15</span>
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:16px;width:420px;box-shadow:0 4px 20px rgba(0,0,0,0.08)">
                            <!-- 头部 -->
                            <div style="padding:20px 24px;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center">
                                <div style="font-size:16px;font-weight:700">评测 Agent 知识完整度</div>
                                <span style="font-size:18px;color:#94a3b8;cursor:pointer">✕</span>
                            </div>
                            <!-- 步骤指示器 -->
                            <div style="padding:16px 24px;display:flex;gap:8px;border-bottom:1px solid #f1f5f9">
                                <div style="display:flex;align-items:center;gap:6px">
                                    <div style="width:20px;height:20px;background:#6366f1;color:white;border-radius:50%;font-size:11px;display:flex;align-items:center;justify-content:center;font-weight:600">1</div>
                                    <span style="font-size:13px;font-weight:600;color:#6366f1">配置评测</span>
                                </div>
                                <div style="flex:1;height:2px;background:#e2e8f0;margin:auto"></div>
                                <div style="display:flex;align-items:center;gap:6px">
                                    <div style="width:20px;height:20px;background:#e2e8f0;color:#94a3b8;border-radius:50%;font-size:11px;display:flex;align-items:center;justify-content:center;font-weight:600">2</div>
                                    <span style="font-size:13px;color:#94a3b8">评测进行中</span>
                                </div>
                                <div style="flex:1;height:2px;background:#e2e8f0;margin:auto"></div>
                                <div style="display:flex;align-items:center;gap:6px">
                                    <div style="width:20px;height:20px;background:#e2e8f0;color:#94a3b8;border-radius:50%;font-size:11px;display:flex;align-items:center;justify-content:center;font-weight:600">3</div>
                                    <span style="font-size:13px;color:#94a3b8">完成</span>
                                </div>
                            </div>
                            <!-- 内容区域 -->
                            <div style="padding:24px">
                                <div style="margin-bottom:20px">
                                    <div style="font-size:13px;font-weight:600;margin-bottom:8px">评测范围</div>
                                    <select style="width:100%;padding:12px 16px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;background:white;cursor:pointer">
                                        <option>全量评测</option>
                                    </select>
                                    <div style="font-size:12px;color:#64748b;margin-top:6px">更多策略如抽样评测将在后续版本上线</div>
                                </div>
                                <div style="background:#f0f9ff;border:1px solid #bae6fd;border-radius:8px;padding:14px;margin-bottom:20px">
                                    <div style="font-size:12px;color:#0369a1;line-height:1.6">
                                        <strong>提示</strong><br>
                                        评测完成后，将显示知识完整度得分和待补充领域建议。
                                    </div>
                                </div>
                                <button style="width:100%;padding:14px;background:#6366f1;color:white;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px">
                                    开始评测 <span style="font-size:16px">→</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Toast 状态 -->
            <div class="artboard-section-title"><span>💬</span> Toast 提示</div>

            <div class="artboard" id="artboard-16">
                <div class="artboard-label">
                    <span>Toast · 成功</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-16', '16-Toast-成功')">⬇</button>
                    <span class="artboard-label-id">#16</span>
                </div>
                <div class="artboard-content toast">
                    <div style="background:var(--success-light);border:1px solid var(--success);border-radius:var(--radius);padding:14px 20px;display:flex;align-items:center;gap:12px;max-width:400px;margin:0 auto">
                        <span style="font-size:20px">✅</span>
                        <div>
                            <div style="font-size:14px;font-weight:600;color:var(--success)">操作成功</div>
                            <div style="font-size:12px;color:var(--text-secondary)">文档已成功删除</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-17">
                <div class="artboard-label">
                    <span>Toast · 错误</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-17', '17-Toast-错误')">⬇</button>
                    <span class="artboard-label-id">#17</span>
                </div>
                <div class="artboard-content toast">
                    <div style="background:var(--danger-light);border:1px solid var(--danger);border-radius:var(--radius);padding:14px 20px;display:flex;align-items:center;gap:12px;max-width:400px;margin:0 auto">
                        <span style="font-size:20px">❌</span>
                        <div style="flex:1">
                            <div style="font-size:14px;font-weight:600;color:var(--danger)">操作失败</div>
                            <div style="font-size:12px;color:var(--text-secondary)">网络错误，请稍后重试</div>
                        </div>
                        <button style="background:none;border:none;font-size:16px;cursor:pointer;color:var(--text-muted)">✕</button>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-18">
                <div class="artboard-label">
                    <span>Toast · 警告</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-18', '18-Toast-警告')">⬇</button>
                    <span class="artboard-label-id">#18</span>
                </div>
                <div class="artboard-content toast">
                    <div style="background:var(--warning-light);border:1px solid var(--warning);border-radius:var(--radius);padding:14px 20px;display:flex;align-items:center;gap:12px;max-width:400px;margin:0 auto">
                        <span style="font-size:20px">⚠️</span>
                        <div style="flex:1">
                            <div style="font-size:14px;font-weight:600;color:var(--warning)">文件过大</div>
                            <div style="font-size:12px;color:var(--text-secondary)">单个文件不能超过 50MB，请压缩后重试</div>
                        </div>
                        <button style="background:none;border:none;font-size:16px;cursor:pointer;color:var(--text-muted)">✕</button>
                    </div>
                </div>
            </div>

            <!-- 表格行状态 -->
            <div class="artboard-section-title"><span>🔘</span> 表格行状态</div>

            <div class="artboard" id="artboard-19">
                <div class="artboard-label">
                    <span>表格行 · 默认状态</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-19', '19-表格行-默认')">⬇</button>
                    <span class="artboard-label-id">#19</span>
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:12px;padding:16px">
                            <table style="width:100%;border-collapse:collapse;font-size:13px">
                                <thead><tr style="border-bottom:1px solid var(--border)"><th style="text-align:left;padding:10px 12px;color:var(--text-muted);font-weight:500">文件名</th><th style="padding:10px 12px;color:var(--text-muted);font-weight:500;width:80px">节点</th><th style="padding:10px 12px;color:var(--text-muted);font-weight:500;width:80px">状态</th><th style="padding:10px 12px;color:var(--text-muted);font-weight:500;width:120px">操作</th></tr></thead>
                                <tbody>
                                    <tr style="border-bottom:1px solid var(--border-subtle)">
                                        <td style="padding:14px 12px"><span style="margin-right:10px;font-size:18px">📕</span><span style="font-weight:500">产品手册V3.pdf</span></td>
                                        <td style="padding:14px 12px;text-align:center;font-weight:600">156</td>
                                        <td style="padding:14px 12px;text-align:center"><span style="background:var(--success-light);color:var(--success);padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600">✓ 已就绪</span></td>
                                        <td style="padding:14px 12px;text-align:center">
                                            <a href="#" style="color:#94a3b8;text-decoration:none;font-size:13px;font-weight:500">预览</a>
                                            <span style="color:var(--border);margin:0 8px">|</span>
                                            <a href="#" style="color:#94a3b8;text-decoration:none;font-size:13px;font-weight:500">删除</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div style="margin-top:12px;font-size:11px;color:var(--text-muted);text-align:center">默认状态：无背景色变化</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-20">
                <div class="artboard-label">
                    <span>表格行 · Hover 状态</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-20', '20-表格行-Hover')">⬇</button>
                    <span class="artboard-label-id">#20</span>
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:12px;padding:16px">
                            <table style="width:100%;border-collapse:collapse;font-size:13px">
                                <thead><tr style="border-bottom:1px solid var(--border)"><th style="text-align:left;padding:10px 12px;color:var(--text-muted);font-weight:500">文件名</th><th style="padding:10px 12px;color:var(--text-muted);font-weight:500;width:80px">节点</th><th style="padding:10px 12px;color:var(--text-muted);font-weight:500;width:80px">状态</th><th style="padding:10px 12px;color:var(--text-muted);font-weight:500;width:120px">操作</th></tr></thead>
                                <tbody>
                                    <tr style="border-bottom:1px solid var(--border-subtle);background:var(--bg-subtle);cursor:pointer">
                                        <td style="padding:14px 12px"><span style="margin-right:10px;font-size:18px">📕</span><span style="font-weight:500">产品手册V3.pdf</span></td>
                                        <td style="padding:14px 12px;text-align:center;font-weight:600">156</td>
                                        <td style="padding:14px 12px;text-align:center"><span style="background:var(--success-light);color:var(--success);padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600">✓ 已就绪</span></td>
                                        <td style="padding:14px 12px;text-align:center">
                                            <a href="#" style="color:var(--accent);text-decoration:underline;font-size:13px;font-weight:500">预览</a>
                                            <span style="color:var(--border);margin:0 8px">|</span>
                                            <a href="#" style="color:var(--danger);text-decoration:underline;font-size:13px;font-weight:500">删除</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div style="margin-top:12px;font-size:11px;color:var(--text-muted);text-align:center">Hover 状态：背景色变浅，操作链接高亮并显示下划线</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent 完整性状态 -->
            <div class="artboard-section-title"><span>📊</span> Agent 完整性状态</div>

            <div class="artboard" id="artboard-21">
                <div class="artboard-label">
                    <span>Agent 完整性·30%状态</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-21', '21-Agent完整性-30%')">⬇</button>
                    <span class="artboard-label-id">#21</span>
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <!-- Agent完整性面板 - 30%初期状态 -->
                        <div style="background:white;border-radius:16px;padding:28px;display:flex;gap:32px;align-items:flex-start;max-width:900px">
                            <!-- 左侧：进度环+评测按钮（垂直） -->
                            <div style="display:flex;flex-direction:column;align-items:center;gap:16px;flex-shrink:0">
                                <div style="position:relative;width:120px;height:120px">
                                    <svg width="120" height="120" style="transform:rotate(-90deg)">
                                        <circle cx="60" cy="60" r="52" fill="none" stroke="#f1f5f9" stroke-width="12"/>
                                        <circle cx="60" cy="60" r="52" fill="none" stroke="#ef4444" stroke-width="12" stroke-dasharray="327" stroke-dashoffset="229" stroke-linecap="round"/>
                                    </svg>
                                    <div style="position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center">
                                        <div style="font-size:28px;font-weight:800;color:#ef4444">30%</div>
                                        <div style="font-size:11px;color:#64748b">完整度</div>
                                    </div>
                                </div>
                                <button style="padding:10px 20px;background:white;color:#334155;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer">刷新评分</button>
                                <div style="font-size:12px;color:#64748b;text-align:center">上次评测：01/25 10:32</div>
                            </div>

                            <!-- 右侧：文字内容 -->
                            <div style="flex:1;min-width:0">
                                <h2 style="font-size:18px;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:8px">📊 Agent 知识完整度 <span style="font-size:12px;color:#ef4444;font-weight:500">⚠️ 较低</span></h2>
                                <p style="font-size:13px;color:#64748b;margin-bottom:16px;line-height:1.6">知识库是企业 Agent 的生命养分——持续补充资料，让您的专属 Agent 更聪明、更懂业务。当前知识覆盖较少，建议优先补充以下领域。</p>
                                <div style="background:#f8fafc;border-radius:12px;padding:16px">
                                    <div style="font-size:12px;font-weight:700;color:#64748b;margin-bottom:12px;display:flex;align-items:center;gap:6px">💡 智能补充建议</div>
                                    <div style="display:flex;flex-direction:column;gap:8px">
                                        <div style="background:white;border:1px solid #e2e8f0;border-radius:8px;padding:14px;display:flex;align-items:center;gap:16px">
                                            <div style="flex:1">
                                                <div style="font-size:13px;font-weight:600;margin-bottom:4px">新媒体运营</div>
                                                <div style="font-size:12px;color:#64748b;line-height:1.5">当前无相关资料，建议补充公众号文章或运营文档</div>
                                            </div>
                                            <button style="padding:8px 16px;background:#6366f1;color:white;border:none;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;white-space:nowrap">立即补充</button>
                                        </div>
                                        <div style="background:white;border:1px solid #e2e8f0;border-radius:8px;padding:14px;display:flex;align-items:center;gap:16px">
                                            <div style="flex:1">
                                                <div style="font-size:13px;font-weight:600;margin-bottom:4px">退换货政策</div>
                                                <div style="font-size:12px;color:#64748b;line-height:1.5">已有部分资料，建议补充详细说明</div>
                                            </div>
                                            <button style="padding:8px 16px;background:#6366f1;color:white;border:none;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;white-space:nowrap">立即补充</button>
                                        </div>
                                        <div style="background:white;border:1px solid #e2e8f0;border-radius:8px;padding:14px;display:flex;align-items:center;gap:16px">
                                            <div style="flex:1">
                                                <div style="font-size:13px;font-weight:600;margin-bottom:4px">产品定价</div>
                                                <div style="font-size:12px;color:#64748b;line-height:1.5">资料较完整，可选择性补充最新价格表</div>
                                            </div>
                                            <button style="padding:8px 16px;background:#6366f1;color:white;border:none;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;white-space:nowrap">立即补充</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-22">
                <div class="artboard-label">
                    <span>Agent 完整性·78%状态</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-22', '22-Agent完整性-78%')">⬇</button>
                    <span class="artboard-label-id">#22</span>
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <!-- Agent完整性面板 - 78%中等状态 -->
                        <div style="background:white;border-radius:16px;padding:28px;display:flex;gap:32px;align-items:flex-start;max-width:900px">
                            <!-- 左侧：进度环+评测按钮（垂直） -->
                            <div style="display:flex;flex-direction:column;align-items:center;gap:16px;flex-shrink:0">
                                <div style="position:relative;width:120px;height:120px">
                                    <svg width="120" height="120" style="transform:rotate(-90deg)">
                                        <circle cx="60" cy="60" r="52" fill="none" stroke="#f1f5f9" stroke-width="12"/>
                                        <circle cx="60" cy="60" r="52" fill="none" stroke="#10b981" stroke-width="12" stroke-dasharray="327" stroke-dashoffset="72" stroke-linecap="round"/>
                                    </svg>
                                    <div style="position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center">
                                        <div style="font-size:28px;font-weight:800;color:#10b981">78%</div>
                                        <div style="font-size:11px;color:#64748b">完整度</div>
                                    </div>
                                </div>
                                <button style="padding:10px 20px;background:white;color:#334155;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer">刷新评分</button>
                                <div style="font-size:12px;color:#64748b;text-align:center">上次评测：01/26 16:04</div>
                            </div>

                            <!-- 右侧：文字内容 -->
                            <div style="flex:1;min-width:0">
                                <h2 style="font-size:18px;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:8px">📊 Agent 知识完整度 <span style="font-size:12px;color:#22c55e;font-weight:500">↑ 5% 较上周</span></h2>
                                <p style="font-size:13px;color:#64748b;margin-bottom:16px;line-height:1.6">知识库是企业 Agent 的生命养分——持续补充资料，让您的专属 Agent 更聪明、更懂业务。当前已覆盖大部分常见问题，建议继续补充以下领域的资料。</p>
                                <div style="background:#f8fafc;border-radius:12px;padding:16px">
                                    <div style="font-size:12px;font-weight:700;color:#64748b;margin-bottom:12px;display:flex;align-items:center;gap:6px">💡 智能补充建议</div>
                                    <div style="display:flex;flex-direction:column;gap:8px">
                                        <div style="background:white;border:1px solid #e2e8f0;border-radius:8px;padding:14px;display:flex;align-items:center;gap:16px">
                                            <div style="flex:1">
                                                <div style="font-size:13px;font-weight:600;margin-bottom:4px">新媒体运营</div>
                                                <div style="font-size:12px;color:#64748b;line-height:1.5">当前无相关资料，建议补充公众号文章、小红书内容或运营文档</div>
                                            </div>
                                            <button style="padding:8px 16px;background:#6366f1;color:white;border:none;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;white-space:nowrap">立即补充</button>
                                        </div>
                                        <div style="background:white;border:1px solid #e2e8f0;border-radius:8px;padding:14px;display:flex;align-items:center;gap:16px">
                                            <div style="flex:1">
                                                <div style="font-size:13px;font-weight:600;margin-bottom:4px">退换货政策</div>
                                                <div style="font-size:12px;color:#64748b;line-height:1.5">已有部分资料，建议补充详细的退换货流程说明</div>
                                            </div>
                                            <button style="padding:8px 16px;background:#6366f1;color:white;border:none;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;white-space:nowrap">立即补充</button>
                                        </div>
                                        <div style="background:white;border:1px solid #e2e8f0;border-radius:8px;padding:14px;display:flex;align-items:center;gap:16px">
                                            <div style="flex:1">
                                                <div style="font-size:13px;font-weight:600;margin-bottom:4px">产品定价</div>
                                                <div style="font-size:12px;color:#64748b;line-height:1.5">资料较完整，可选择性补充最新价格表</div>
                                            </div>
                                            <button style="padding:8px 16px;background:#6366f1;color:white;border:none;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;white-space:nowrap">立即补充</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-23">
                <div class="artboard-label">
                    <span>Agent 完整性·100%状态</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-23', '23-Agent完整性-100%')">⬇</button>
                    <span class="artboard-label-id">#23</span>
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <!-- Agent完整性面板 - 100%完美状态 -->
                        <div style="background:white;border-radius:16px;padding:28px;display:flex;gap:32px;align-items:flex-start;max-width:900px">
                            <!-- 左侧：进度环+评测按钮（垂直） -->
                            <div style="display:flex;flex-direction:column;align-items:center;gap:16px;flex-shrink:0">
                                <div style="position:relative;width:120px;height:120px">
                                    <svg width="120" height="120" style="transform:rotate(-90deg)">
                                        <circle cx="60" cy="60" r="52" fill="none" stroke="#f1f5f9" stroke-width="12"/>
                                        <circle cx="60" cy="60" r="52" fill="none" stroke="#a855f7" stroke-width="12" stroke-dasharray="327" stroke-dashoffset="0" stroke-linecap="round"/>
                                    </svg>
                                    <div style="position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center">
                                        <div style="font-size:28px;font-weight:800;color:#a855f7">100%</div>
                                        <div style="font-size:11px;color:#64748b">完整度</div>
                                    </div>
                                </div>
                                <button style="padding:10px 20px;background:white;color:#334155;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer">刷新评分</button>
                                <div style="font-size:12px;color:#64748b;text-align:center">上次评测：01/26 17:20</div>
                            </div>

                            <!-- 右侧：文字内容 -->
                            <div style="flex:1;min-width:0">
                                <h2 style="font-size:18px;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:8px">📊 Agent 知识完整度 <span style="font-size:12px;color:#22c55e;font-weight:500">🎉 完美</span></h2>
                                <p style="font-size:13px;color:#64748b;margin-bottom:16px;line-height:1.6">知识库是企业 Agent 的生命养分——持续补充资料，让您的专属 Agent 更聪明、更懂业务。</p>
                                <div style="background:linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);border:1px solid #86efac;border-radius:12px;padding:20px;text-align:center">
                                    <div style="font-size:40px;margin-bottom:12px">🎉</div>
                                    <div style="font-size:16px;font-weight:700;color:#166534;margin-bottom:8px">恭喜！知识库已达到完美状态</div>
                                    <div style="font-size:13px;color:#15803d;line-height:1.6">当前知识库已覆盖所有关键业务领域，Agent 已准备好为您提供最佳服务。<br>继续保持知识库的更新和维护，确保信息的准确性和时效性。</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="artboard" id="artboard-24">
                <div class="artboard-label">
                    <span>评测侧边栏 · 评测完成</span>
                    <button class="artboard-download-btn" onclick="captureArtboard('artboard-24', '24-评测侧边栏-完成')">⬇</button>
                    <span class="artboard-label-id">#24</span>
                </div>
                <div class="artboard-content">
                    <div class="artboard-component-preview">
                        <div style="background:white;border-radius:16px;width:420px;box-shadow:0 4px 20px rgba(0,0,0,0.08)">
                            <!-- 头部 -->
                            <div style="padding:20px 24px;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center">
                                <div style="font-size:16px;font-weight:700">评测完成</div>
                                <span style="font-size:18px;color:#94a3b8;cursor:pointer">✕</span>
                            </div>
                            <!-- 步骤指示器 -->
                            <div style="padding:16px 24px;display:flex;gap:8px;border-bottom:1px solid #f1f5f9">
                                <div style="display:flex;align-items:center;gap:6px">
                                    <div style="width:20px;height:20px;background:#22c55e;color:white;border-radius:50%;font-size:11px;display:flex;align-items:center;justify-content:center">✓</div>
                                    <span style="font-size:13px;color:#22c55e">配置评测</span>
                                </div>
                                <div style="flex:1;height:2px;background:#22c55e;margin:auto"></div>
                                <div style="display:flex;align-items:center;gap:6px">
                                    <div style="width:20px;height:20px;background:#22c55e;color:white;border-radius:50%;font-size:11px;display:flex;align-items:center;justify-content:center">✓</div>
                                    <span style="font-size:13px;color:#22c55e">评测进行中</span>
                                </div>
                                <div style="flex:1;height:2px;background:#22c55e;margin:auto"></div>
                                <div style="display:flex;align-items:center;gap:6px">
                                    <div style="width:20px;height:20px;background:#6366f1;color:white;border-radius:50%;font-size:11px;display:flex;align-items:center;justify-content:center;font-weight:600">3</div>
                                    <span style="font-size:13px;font-weight:600;color:#6366f1">完成</span>
                                </div>
                            </div>
                            <!-- 内容区域 -->
                            <div style="padding:24px;text-align:center">
                                <!-- 完整度环形图 -->
                                <div style="position:relative;width:120px;height:120px;margin:0 auto 20px">
                                    <svg width="120" height="120" style="transform:rotate(-90deg)">
                                        <circle cx="60" cy="60" r="52" fill="none" stroke="#f1f5f9" stroke-width="12"/>
                                        <circle cx="60" cy="60" r="52" fill="none" stroke="#10b981" stroke-width="12" stroke-dasharray="327" stroke-dashoffset="72" stroke-linecap="round"/>
                                    </svg>
                                    <div style="position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center">
                                        <div style="font-size:28px;font-weight:800;color:#10b981">78%</div>
                                        <div style="font-size:11px;color:#64748b">完整度</div>
                                    </div>
                                </div>
                                <!-- 评测统计 -->
                                <div style="display:flex;gap:24px;justify-content:center;margin-bottom:20px">
                                    <div>
                                        <div style="font-size:24px;font-weight:700;color:#1e293b">100</div>
                                        <div style="font-size:12px;color:#64748b">评测题数</div>
                                    </div>
                                    <div style="width:1px;background:#e2e8f0"></div>
                                    <div style="text-align:left">
                                        <div style="font-size:13px;font-weight:600;color:#1e293b;margin-bottom:4px">待补充领域</div>
                                        <div style="font-size:12px;color:#64748b">新媒体运营、退换货政策</div>
                                    </div>
                                </div>
                                <button style="width:100%;padding:14px;background:#6366f1;color:white;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px">
                                    立即补充 <span style="font-size:16px">↓</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ========== 侧边栏导航 ========== -->
    <div class="sidebar">
        <div class="logo">
            <div class="logo-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M4 4C4 4 8 6 12 6C16 6 20 4 20 4" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    <path d="M4 9C4 9 8 11 12 11C16 11 20 9 20 9" stroke="white" stroke-width="2" stroke-linecap="round" opacity="0.7"/>
                    <path d="M4 14C4 14 8 12 12 12C16 12 20 14 20 14" stroke="white" stroke-width="2" stroke-linecap="round" opacity="0.7"/>
                    <path d="M4 19C4 19 8 17 12 17C16 17 20 19 20 19" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="4" cy="4" r="1.5" fill="white"/>
                    <circle cx="20" cy="4" r="1.5" fill="white"/>
                    <circle cx="4" cy="19" r="1.5" fill="white"/>
                    <circle cx="20" cy="19" r="1.5" fill="white"/>
                </svg>
            </div>
            <span>EVA</span>
        </div>

        <nav class="nav-section">
            <div class="nav-label">主导航</div>
            <a href="#" class="nav-item">
                <span class="nav-item-icon">&#127968;</span>
                <span>控制台</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-item-icon">&#128172;</span>
                <span>Agent效果体验</span>
            </a>
            <a href="#" class="nav-item active">
                <span class="nav-item-icon">&#128218;</span>
                <span>知识库</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-item-icon">&#10024;</span>
                <span>Agent进化</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-item-icon">📋</span>
                <span>会话记录</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-item-icon">&#128640;</span>
                <span>部署</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-item-icon">&#128274;</span>
                <span>安全合规</span>
            </a>
        </nav>

        <div class="user-profile">
            <div class="user-avatar">硯</div>
            <div class="user-info">
                <div class="user-name">硯寒清</div>
                <div class="user-company">深圳语境天择</div>
            </div>
            <span class="user-expand">&#9660;</span>
        </div>
    </div>
    <!-- ========== @END-SIDEBAR ========== -->

    <!-- ========== 主内容区域 ========== -->
    <div class="main">
        <header class="topbar">
            <div style="font-weight:600;font-size:15px;display:flex;align-items:center;gap:10px">
                <span style="font-size:20px">📚</span> 知识库
            </div>
        </header>

        <div class="content">
            <!-- 1. Agent 完整性面板 -->
            <div class="completeness-panel">
                <!-- 左侧：进度环+评测按钮（垂直排列） -->
                <div style="display:flex; flex-direction:column; align-items:center; gap:16px;">
                    <div class="progress-ring">
                        <svg width="140" height="140">
                            <circle class="progress-ring-bg" cx="70" cy="70" r="60"></circle>
                            <circle class="progress-ring-fill" cx="70" cy="70" r="60" style="stroke: #10b981;"></circle>
                        </svg>
                        <div class="progress-ring-text">
                            <div class="progress-ring-value" style="color: #10b981;">78%</div>
                            <div class="progress-ring-label">完整度</div>
                        </div>
                    </div>

                    <!-- 评测控制区 -->
                    <div style="display:flex; flex-direction:column; align-items:center; gap:6px;">
                        <button id="kb-evalTriggerBtn" style="padding:6px 14px; font-size:13px; background:white; color:var(--text); border:1px solid var(--border); border-radius:6px; cursor:pointer;" onclick="refreshScore()">刷新评分</button>
                        <div style="font-size:11px; color:var(--text-tertiary);">上次评测：01/26 16:04</div>
                    </div>
                </div>

                <!-- 右侧：完整度信息 -->
                <div class="completeness-info">
                    <div class="completeness-title">
                        <h2>📊 Agent 知识完整度</h2>
                        <span class="completeness-trend">↑ 5% 较上周</span>
                    </div>
                    <p class="completeness-desc">
                        知识库是企业 Agent 的生命养分——持续补充资料，让您的专属 Agent 更聪明、更懂业务。
                        当前已覆盖大部分常见问题，建议继续补充以下领域的资料。
                    </p>
                    <div class="knowledge-gap">
                        <div class="knowledge-gap-header">
                            <span class="knowledge-gap-header-icon">💡</span>
                            <span class="knowledge-gap-header-title">智能补充建议</span>
                            <span class="knowledge-gap-header-badge">基于 AI 分析</span>
                        </div>
                        <div class="suggestion-list">
                            <div class="suggestion-card-new">
                                <div class="suggestion-card-content">
                                    <div class="suggestion-card-title">新媒体运营</div>
                                    <div class="suggestion-card-desc">当前无相关资料，建议补充公众号文章、小红书内容或运营文档</div>
                                </div>
                                <div class="suggestion-card-actions">
                                    <button class="suggestion-btn-primary" onclick="focusUploadArea()">立即补充</button>
                                </div>
                            </div>
                            <div class="suggestion-card-new">
                                <div class="suggestion-card-content">
                                    <div class="suggestion-card-title">退换货政策</div>
                                    <div class="suggestion-card-desc">已有部分资料，建议补充详细的退换货流程说明</div>
                                </div>
                                <div class="suggestion-card-actions">
                                    <button class="suggestion-btn-primary" onclick="focusUploadArea()">立即补充</button>
                                </div>
                            </div>
                            <div class="suggestion-card-new">
                                <div class="suggestion-card-content">
                                    <div class="suggestion-card-title">产品定价</div>
                                    <div class="suggestion-card-desc">资料较完整，可选择性补充最新价格表</div>
                                </div>
                                <div class="suggestion-card-actions">
                                    <button class="suggestion-btn-primary" onclick="focusUploadArea()">立即补充</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. 数据概览瓦片 -->
            <div class="stats-grid" style="grid-template-columns:repeat(3,1fr)">
                <div class="stat-tile">
                    <div class="stat-tile-head">
                        <span class="stat-tile-label">文档数量</span>
                        <div class="stat-tile-icon">📄</div>
                    </div>
                    <div class="stat-tile-value">28</div>
                    <div class="stat-tile-change">↑ 3 本周新增</div>
                </div>
                <div class="stat-tile">
                    <div class="stat-tile-head">
                        <span class="stat-tile-label">知识节点</span>
                        <div class="stat-tile-icon">🔗</div>
                    </div>
                    <div class="stat-tile-value">1,240</div>
                    <div class="stat-tile-change">↑ 156 本周新增</div>
                </div>
                <div class="stat-tile">
                    <div class="stat-tile-head">
                        <span class="stat-tile-label">未命中问题</span>
                        <div class="stat-tile-icon">❓</div>
                    </div>
                    <div class="stat-tile-value">12</div>
                    <div class="stat-tile-change" style="color:var(--success)">↓ 3 较上周</div>
                </div>
            </div>

            <!-- 3. 上传区域（带Tab切换）-->
            <div class="upload-container">
                <div class="upload-tabs">
                    <button class="upload-tab active" onclick="switchUploadTab('file')" id="uploadTabFile">
                        📤 从文件上传
                    </button>
                    <button class="upload-tab" onclick="switchUploadTab('link')" id="uploadTabLink">
                        🌐 从网页上传
                    </button>
                </div>

                <!-- 上传文件 Tab -->
                <div class="upload-tab-content active" id="uploadContentFile">
                    <!-- 默认状态：拖拽/点击上传 -->
                    <div class="upload-section" id="fileDefaultState" onclick="triggerFileInput()" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" ondrop="handleDrop(event)">
                        <div class="upload-icon">📤</div>
                        <div class="upload-title">拖拽文件到此处，或点击上传</div>
                        <div class="upload-types">
                            <div class="upload-type"><span class="upload-type-icon">📕</span> PDF</div>
                            <div class="upload-type"><span class="upload-type-icon">📘</span> Word</div>
                            <div class="upload-type"><span class="upload-type-icon">📙</span> PPT</div>
                            <div class="upload-type"><span class="upload-type-icon">📄</span> TXT</div>
                            <div class="upload-type"><span class="upload-type-icon">📝</span> Markdown</div>
                            <div class="upload-type"><span class="upload-type-icon">🖼️</span> 图片</div>
                        </div>
                        <input type="file" id="fileInput" style="display:none" multiple accept=".pdf,.doc,.docx,.ppt,.pptx,.txt,.text,.md,.markdown,.png,.jpg,.jpeg">
                    </div>
                    <!-- 上传中状态 -->
                    <div class="upload-section" id="fileUploadingState" style="display:none">
                        <div style="font-size:48px;margin-bottom:16px;animation:pulse 1.5s ease-in-out infinite">📤</div>
                        <div class="upload-title">正在上传文件...</div>
                        <div class="upload-desc" style="margin-bottom:20px">文件上传完成后将自动解析并更新知识库</div>
                        <div style="background:var(--bg-subtle);border-radius:12px;padding:16px;max-width:400px;margin:0 auto">
                            <!-- 文件1：已完成 -->
                            <div style="display:flex;align-items:center;gap:12px;padding-bottom:12px;border-bottom:1px solid var(--border-subtle)">
                                <span style="font-size:20px">📕</span>
                                <div style="flex:1;text-align:left">
                                    <div style="font-size:13px;font-weight:600;margin-bottom:2px">退换货政策说明.pdf</div>
                                    <div style="font-size:11px;color:var(--success)">✓ 上传完成，正在解析...</div>
                                </div>
                                <span style="color:var(--success);font-size:16px">✓</span>
                            </div>
                            <!-- 文件2：上传中 -->
                            <div style="display:flex;align-items:center;gap:12px;padding-top:12px">
                                <span style="font-size:20px">🖼️</span>
                                <div style="flex:1;text-align:left">
                                    <div style="font-size:13px;font-weight:600;margin-bottom:6px">产品宣传图.png</div>
                                    <div style="background:var(--border);border-radius:4px;height:6px;overflow:hidden">
                                        <div style="background:var(--accent);height:100%;width:65%;animation:progress 2s ease-in-out infinite"></div>
                                    </div>
                                </div>
                                <span style="font-size:11px;color:var(--text-muted);white-space:nowrap">65%</span>
                            </div>
                        </div>
                    </div>
                    <!-- 上传成功状态 -->
                    <div class="upload-section" id="fileSuccessState" style="display:none">
                        <div style="font-size:48px;margin-bottom:16px">🎉</div>
                        <div class="upload-title" style="color:#22c55e">上传成功！</div>
                        <div class="upload-desc" style="margin-bottom:20px">文件已成功解析并添加到知识库</div>
                        <div style="background:#f0fdf4;border:1px solid #86efac;border-radius:12px;padding:16px;max-width:400px;margin:0 auto 20px">
                            <!-- 文件1 -->
                            <div style="display:flex;align-items:center;gap:12px;padding-bottom:12px;border-bottom:1px solid #bbf7d0">
                                <span style="font-size:20px">📕</span>
                                <div style="flex:1;text-align:left">
                                    <div style="font-size:13px;font-weight:600;color:#166534;margin-bottom:2px">退换货政策说明.pdf</div>
                                    <div style="font-size:11px;color:#15803d">已提取 56 个知识节点</div>
                                </div>
                                <span style="color:#22c55e;font-size:16px">✓</span>
                            </div>
                            <!-- 文件2 -->
                            <div style="display:flex;align-items:center;gap:12px;padding-top:12px">
                                <span style="font-size:20px">🖼️</span>
                                <div style="flex:1;text-align:left">
                                    <div style="font-size:13px;font-weight:600;color:#166534;margin-bottom:2px">产品宣传图.png</div>
                                    <div style="font-size:11px;color:#15803d">已提取 33 个知识节点</div>
                                </div>
                                <span style="color:#22c55e;font-size:16px">✓</span>
                            </div>
                        </div>
                        <div style="font-size:13px;color:var(--text-secondary);margin-bottom:16px">
                            共新增 <span style="font-weight:600;color:var(--success)">89</span> 个知识节点，Agent 完整性提升至 <span style="font-weight:600;color:var(--success)">85%</span>
                        </div>
                        <button onclick="resetFileState()" style="padding:10px 24px;background:var(--accent);color:white;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer">继续上传</button>
                    </div>
                </div>

                <!-- 添加链接 Tab -->
                <div class="upload-tab-content" id="uploadContentLink">
                    <!-- 默认状态：输入链接 -->
                    <div class="link-paste-area" id="linkDefaultState">
                        <div class="link-paste-icon">🔗</div>
                        <div class="link-paste-title">粘贴链接，自动识别内容</div>
                        <div class="link-input-wrapper">
                            <input type="text" class="link-input" id="linkInput" placeholder="https://mp.weixin.qq.com/s/...">
                            <button class="link-input-btn" onclick="addLink()">添加链接</button>
                        </div>
                        <div class="link-types">
                            <div class="link-type"><span class="link-type-icon">🌐</span> 官网</div>
                            <div class="link-type"><span class="link-type-icon">📱</span> 公众号</div>
                            <div class="link-type"><span class="link-type-icon">📕</span> 小红书</div>
                            <div class="link-type"><span class="link-type-icon">🐦</span> 微博</div>
                            <div class="link-type"><span class="link-type-icon">📰</span> 其他网页</div>
                        </div>
                    </div>
                    <!-- 爬取中状态 -->
                    <div class="link-paste-area" id="linkCrawlingState" style="display:none">
                        <div style="font-size:48px;margin-bottom:16px;animation:pulse 1.5s ease-in-out infinite">🔄</div>
                        <div class="link-paste-title">正在爬取网页内容...</div>
                        <div class="link-paste-desc" style="margin-bottom:20px">系统正在解析网页结构并提取知识节点</div>
                        <div style="background:var(--bg-subtle);border-radius:12px;padding:16px;max-width:400px;margin:0 auto">
                            <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                                <span style="font-size:20px">📱</span>
                                <div style="flex:1;text-align:left">
                                    <div style="font-size:13px;font-weight:600;margin-bottom:2px" id="crawlingUrl">mp.weixin.qq.com</div>
                                    <div style="font-size:11px;color:var(--text-muted)">微信公众号文章</div>
                                </div>
                            </div>
                            <div style="background:var(--border);border-radius:4px;height:6px;overflow:hidden">
                                <div style="background:var(--accent);height:100%;width:60%;animation:progress 2s ease-in-out infinite"></div>
                            </div>
                        </div>
                    </div>
                    <!-- 爬取成功状态 -->
                    <div class="link-paste-area" id="linkSuccessState" style="display:none">
                        <div style="font-size:48px;margin-bottom:16px">✅</div>
                        <div class="link-paste-title" style="color:#22c55e">爬取成功！</div>
                        <div class="link-paste-desc" style="margin-bottom:20px">网页内容已成功解析并添加到知识库</div>
                        <div style="background:#f0fdf4;border:1px solid #86efac;border-radius:12px;padding:16px;max-width:400px;margin:0 auto 20px">
                            <div style="display:flex;align-items:center;gap:12px">
                                <span style="font-size:24px">📱</span>
                                <div style="flex:1;text-align:left">
                                    <div style="font-size:13px;font-weight:600;margin-bottom:2px">公司介绍 - 公众号文章</div>
                                    <div style="font-size:11px;color:#15803d">已提取 12 个知识节点</div>
                                </div>
                                <span style="color:#22c55e;font-size:20px">✓</span>
                            </div>
                        </div>
                        <button onclick="resetLinkState()" style="padding:10px 24px;background:var(--accent);color:white;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer">继续添加</button>
                    </div>
                </div>
            </div>

            <!-- 4. 知识库列表 -->
            <div class="knowledge-list-section">
                <div class="list-header">
                    <div class="list-title">
                        📚 知识库文件
                        <span class="list-count">共 30 份（28 文档 + 2 链接）</span>
                    </div>
                    <div class="list-actions">
                        <div class="search-box">
                            <span>🔍</span>
                            <input type="text" placeholder="搜索文件名、内容...">
                        </div>
                        <select class="filter-select">
                            <option value="">全部类型</option>
                            <option value="pdf">📕 PDF 文档</option>
                            <option value="doc">📘 Word 文档</option>
                            <option value="md">📝 Markdown</option>
                            <option value="img">🖼️ 图片</option>
                            <option value="ppt">📙 PPT 演示</option>
                            <option value="txt">📄 文本文件</option>
                            <option value="link">🔗 链接（全部）</option>
                            <option value="link-wechat">📱 链接·公众号</option>
                            <option value="link-web">🌐 链接·官网</option>
                            <option value="link-xiaohongshu">📕 链接·小红书</option>
                            <option value="link-weibo">🐦 链接·微博</option>
                        </select>
                    </div>
                </div>

                <table class="knowledge-table">
                    <thead>
                        <tr>
                            <th style="width:40%">文件名</th>
                            <th style="width:15%">知识节点</th>
                            <th style="width:15%">状态</th>
                            <th style="width:15%">上传时间</th>
                            <th style="width:15%">操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr onclick="openDetail(this)">
                            <td>
                                <div class="file-info">
                                    <div class="file-icon pdf">📕</div>
                                    <div>
                                        <div class="file-name">产品手册V3.pdf</div>
                                        <div class="file-meta">2.4 MB · PDF 文档</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="node-count">🔗 156</span></td>
                            <td><span class="status-badge ready">✓ 已就绪</span></td>
                            <td style="color:var(--text-secondary);font-size:13px">2 小时前</td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn">预览</button>
                                    <span class="action-separator">|</span>
                                    <button class="action-btn delete">删除</button>
                                </div>
                            </td>
                        </tr>
                        <tr onclick="openDetail(this)">
                            <td>
                                <div class="file-info">
                                    <div class="file-icon doc">📘</div>
                                    <div>
                                        <div class="file-name">客服FAQ汇总.docx</div>
                                        <div class="file-meta">856 KB · Word 文档</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="node-count">🔗 89</span></td>
                            <td><span class="status-badge ready">✓ 已就绪</span></td>
                            <td style="color:var(--text-secondary);font-size:13px">昨天 14:32</td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn">预览</button>
                                    <span class="action-separator">|</span>
                                    <button class="action-btn delete">删除</button>
                                </div>
                            </td>
                        </tr>
                        <tr onclick="openDetail(this)">
                            <td>
                                <div class="file-info">
                                    <div class="file-icon md">📝</div>
                                    <div>
                                        <div class="file-name">产品FAQ汇总.md</div>
                                        <div class="file-meta">124 KB · Markdown</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="node-count">🔗 234</span></td>
                            <td><span class="status-badge processing">⏳ 处理中</span></td>
                            <td style="color:var(--text-secondary);font-size:13px">昨天 10:15</td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn">预览</button>
                                    <span class="action-separator">|</span>
                                    <button class="action-btn delete">删除</button>
                                </div>
                            </td>
                        </tr>
                        <tr onclick="openDetail(this)">
                            <td>
                                <div class="file-info">
                                    <div class="file-icon ppt">📙</div>
                                    <div>
                                        <div class="file-name">公司介绍PPT.pptx</div>
                                        <div class="file-meta">5.6 MB · PPT 演示</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="node-count">🔗 67</span></td>
                            <td><span class="status-badge ready">✓ 已就绪</span></td>
                            <td style="color:var(--text-secondary);font-size:13px">3 天前</td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn">预览</button>
                                    <span class="action-separator">|</span>
                                    <button class="action-btn delete">删除</button>
                                </div>
                            </td>
                        </tr>
                        <tr onclick="openDetail(this)">
                            <td>
                                <div class="file-info">
                                    <div class="file-icon pdf">📕</div>
                                    <div>
                                        <div class="file-name">服务协议条款.pdf</div>
                                        <div class="file-meta">412 KB · PDF 文档</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="node-count">🔗 45</span></td>
                            <td><span class="status-badge ready">✓ 已就绪</span></td>
                            <td style="color:var(--text-secondary);font-size:13px">5 天前</td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn">预览</button>
                                    <span class="action-separator">|</span>
                                    <button class="action-btn delete">删除</button>
                                </div>
                            </td>
                        </tr>
                        <tr onclick="openDetail(this)">
                            <td>
                                <div class="file-info">
                                    <div class="file-icon txt">📄</div>
                                    <div>
                                        <div class="file-name">技术规格说明.txt</div>
                                        <div class="file-meta">28 KB · 文本文件</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="node-count">🔗 38</span></td>
                            <td><span class="status-badge ready">✓ 已就绪</span></td>
                            <td style="color:var(--text-secondary);font-size:13px">1 周前</td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn">预览</button>
                                    <span class="action-separator">|</span>
                                    <button class="action-btn delete">删除</button>
                                </div>
                            </td>
                        </tr>
                        <!-- 链接类型示例 -->
                        <tr onclick="openDetail(this)" data-type="link">
                            <td>
                                <div class="file-info">
                                    <div class="file-icon link-wechat">📱</div>
                                    <div>
                                        <div class="file-name">公司介绍 - 公众号文章</div>
                                        <div class="file-meta">链接 · 微信公众号</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="node-count">🔗 45</span></td>
                            <td><span class="status-badge ready">✓ 已就绪</span></td>
                            <td style="color:var(--text-secondary);font-size:13px">2 天前</td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn">预览</button>
                                    <span class="action-separator">|</span>
                                    <button class="action-btn delete">删除</button>
                                </div>
                            </td>
                        </tr>
                        <tr onclick="openDetail(this)" data-type="link">
                            <td>
                                <div class="file-info">
                                    <div class="file-icon link-web">🌐</div>
                                    <div>
                                        <div class="file-name">官网首页</div>
                                        <div class="file-meta">链接 · 企业官网</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="node-count">🔗 78</span></td>
                            <td><span class="status-badge ready">✓ 已就绪</span></td>
                            <td style="color:var(--text-secondary);font-size:13px">1 周前</td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn">预览</button>
                                    <span class="action-separator">|</span>
                                    <button class="action-btn delete">删除</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="pagination">
                    <div class="pagination-info">
                        显示 1-8 条，共 30 条记录
                    </div>
                    <div class="pagination-controls">
                        <button class="page-btn" disabled>‹</button>
                        <button class="page-btn active">1</button>
                        <button class="page-btn">2</button>
                        <button class="page-btn">3</button>
                        <button class="page-btn">4</button>
                        <button class="page-btn">5</button>
                        <button class="page-btn">›</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ========== @END 主内容区域 ========== -->

    <!-- ========== 知识详情侧边栏 ========== -->
    <div class="detail-overlay" id="detailOverlay" onclick="closeDetail()"></div>
    <div class="detail-panel" id="detailPanel">
        <!-- 文档详情内容 -->
        <div id="detailContentDoc">
            <div class="detail-header">
                <div>
                    <div class="detail-title">产品手册V3.pdf</div>
                    <div class="detail-meta">2.4 MB · PDF 文档 · 上传于 2 小时前</div>
                </div>
                <button class="detail-close" onclick="closeDetail()">✕</button>
            </div>
            <div class="detail-body">
                <div class="detail-section">
                    <div class="detail-section-title">文件统计</div>
                    <div class="detail-stats">
                        <div class="detail-stat">
                            <div class="detail-stat-label">知识节点</div>
                            <div class="detail-stat-value">156</div>
                        </div>
                        <div class="detail-stat">
                            <div class="detail-stat-label">召回次数</div>
                            <div class="detail-stat-value">89</div>
                        </div>
                        <div class="detail-stat">
                            <div class="detail-stat-label">页数</div>
                            <div class="detail-stat-value">32</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="detail-section-title">知识节点预览 (显示前 5 条)</div>
                    <div class="node-list">
                        <div class="node-item">
                            <div class="node-item-header">
                                <span class="node-item-type">产品介绍</span>
                                <span class="node-item-id">#node-001</span>
                            </div>
                            <div class="node-item-content">
                                EVA 是一款面向企业的智能 Agent 平台，帮助企业快速构建、训练和部署专属的 AI 数字员工，覆盖客服、营销、销售等核心场景。
                            </div>
                        </div>
                        <div class="node-item">
                            <div class="node-item-header">
                                <span class="node-item-type">功能说明</span>
                                <span class="node-item-id">#node-002</span>
                            </div>
                            <div class="node-item-content">
                                智能客服能力支持 7×24 小时自动应答，基于企业知识库实时检索，准确率达到 95% 以上，可处理 80% 的常见咨询问题。
                            </div>
                        </div>
                        <div class="node-item">
                            <div class="node-item-header">
                                <span class="node-item-type">技术规格</span>
                                <span class="node-item-id">#node-003</span>
                            </div>
                            <div class="node-item-content">
                                系统支持 PDF、Word、PPT、TXT、Markdown、图片等常见文档格式，单文件最大支持 100MB（图片30MB），支持批量上传（单次最多100个）。
                            </div>
                        </div>
                        <div class="node-item">
                            <div class="node-item-header">
                                <span class="node-item-type">使用指南</span>
                                <span class="node-item-id">#node-004</span>
                            </div>
                            <div class="node-item-content">
                                新用户首次登录后，建议先上传企业官网资料和产品文档，系统会自动爬取并构建初始知识库，然后刷新评分以更新完整度。
                            </div>
                        </div>
                        <div class="node-item">
                            <div class="node-item-header">
                                <span class="node-item-type">定价信息</span>
                                <span class="node-item-id">#node-005</span>
                            </div>
                            <div class="node-item-content">
                                EVA 提供按月订阅的 SaaS 模式，基础版 ¥1,999/月，专业版 ¥4,999/月，企业版根据实际需求定制报价。
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 链接详情内容 -->
        <div id="detailContentLink" style="display:none">
            <div class="detail-header">
                <div>
                    <div class="detail-title" style="display:flex;align-items:center;gap:8px"><span style="font-size:24px">📱</span> 公司介绍 - 公众号文章</div>
                    <div class="detail-meta">链接 · 来自微信公众号</div>
                </div>
                <button class="detail-close" onclick="closeDetail()">✕</button>
            </div>
            <div class="detail-body">
                <div class="detail-section">
                    <div class="detail-section-title">链接信息</div>
                    <div class="detail-stats">
                        <div class="detail-stat">
                            <div class="detail-stat-label">知识节点</div>
                            <div class="detail-stat-value">45</div>
                        </div>
                        <div class="detail-stat">
                            <div class="detail-stat-label">召回次数</div>
                            <div class="detail-stat-value">23</div>
                        </div>
                        <div class="detail-stat">
                            <div class="detail-stat-label">爬取时间</div>
                            <div class="detail-stat-value" style="font-size:14px">2小时前</div>
                        </div>
                        <div class="detail-stat">
                            <div class="detail-stat-label">来源</div>
                            <div class="detail-stat-value" style="font-size:14px">微信公众号</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="detail-section-title">来源链接</div>
                    <div style="background:var(--bg-subtle);border-radius:var(--radius);padding:12px;display:flex;align-items:center;gap:12px">
                        <a href="#" style="flex:1;font-size:12px;color:var(--accent);word-break:break-all;text-decoration:none">https://mp.weixin.qq.com/s/abc123...</a>
                        <div style="display:flex;gap:8px;flex-shrink:0">
                            <button style="background:none;border:none;font-size:14px;cursor:pointer;color:var(--text-muted);padding:4px" title="编辑链接">✏️</button>
                            <button style="background:none;border:none;font-size:14px;cursor:pointer;color:var(--text-muted);padding:4px" title="刷新链接">🔄</button>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="detail-section-title">知识节点预览</div>
                    <div class="node-list">
                        <div class="node-item">
                            <div class="node-item-header">
                                <span class="node-item-type">公司介绍</span>
                                <span class="node-item-id">#node-001</span>
                            </div>
                            <div class="node-item-content">
                                EVA 是一款面向企业的智能 Agent 平台，帮助企业快速构建专属的 AI 数字员工...
                            </div>
                        </div>
                        <div class="node-item">
                            <div class="node-item-header">
                                <span class="node-item-type">核心优势</span>
                                <span class="node-item-id">#node-002</span>
                            </div>
                            <div class="node-item-content">
                                智能客服能力支持 7×24 小时自动应答，准确率达到 95% 以上...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 详情面板控制
        function openDetail(row) {
            document.getElementById('detailOverlay').classList.add('open');
            document.getElementById('detailPanel').classList.add('open');

            // 清除其他行的选中状态
            document.querySelectorAll('.knowledge-table tbody tr').forEach(tr => {
                tr.classList.remove('selected');
            });
            // 选中当前行
            row.classList.add('selected');

            // 根据数据类型切换详情内容
            const isLink = row.getAttribute('data-type') === 'link';
            document.getElementById('detailContentDoc').style.display = isLink ? 'none' : 'flex';
            document.getElementById('detailContentDoc').style.flexDirection = 'column';
            document.getElementById('detailContentDoc').style.height = '100%';
            document.getElementById('detailContentLink').style.display = isLink ? 'flex' : 'none';
            document.getElementById('detailContentLink').style.flexDirection = 'column';
            document.getElementById('detailContentLink').style.height = '100%';
        }

        function closeDetail() {
            document.getElementById('detailOverlay').classList.remove('open');
            document.getElementById('detailPanel').classList.remove('open');

            // 清除选中状态
            document.querySelectorAll('.knowledge-table tbody tr').forEach(tr => {
                tr.classList.remove('selected');
            });
        }

        // 上传区域 Tab 切换
        function switchUploadTab(tab) {
            const tabFile = document.getElementById('uploadTabFile');
            const tabLink = document.getElementById('uploadTabLink');
            const contentFile = document.getElementById('uploadContentFile');
            const contentLink = document.getElementById('uploadContentLink');

            if (tab === 'file') {
                tabFile.classList.add('active');
                tabLink.classList.remove('active');
                contentFile.classList.add('active');
                contentLink.classList.remove('active');
            } else {
                tabFile.classList.remove('active');
                tabLink.classList.add('active');
                contentFile.classList.remove('active');
                contentLink.classList.add('active');
            }
        }

        // 添加链接
        function addLink() {
            const input = document.getElementById('linkInput');
            const url = input.value.trim();

            if (!url) {
                alert('请输入链接地址');
                return;
            }

            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                alert('请输入有效的链接地址（以 http:// 或 https:// 开头）');
                return;
            }

            // 提取域名显示
            try {
                const domain = new URL(url).hostname;
                document.getElementById('crawlingUrl').textContent = domain;
            } catch(e) {
                document.getElementById('crawlingUrl').textContent = url.substring(0, 30) + '...';
            }

            // 切换到爬取中状态
            document.getElementById('linkDefaultState').style.display = 'none';
            document.getElementById('linkCrawlingState').style.display = 'flex';
            document.getElementById('linkSuccessState').style.display = 'none';
            input.value = '';

            // 模拟爬取完成（2秒后显示成功）
            setTimeout(() => {
                document.getElementById('linkCrawlingState').style.display = 'none';
                document.getElementById('linkSuccessState').style.display = 'flex';
            }, 2000);
        }

        // 重置链接状态（继续添加）
        function resetLinkState() {
            document.getElementById('linkDefaultState').style.display = 'flex';
            document.getElementById('linkCrawlingState').style.display = 'none';
            document.getElementById('linkSuccessState').style.display = 'none';
            document.getElementById('linkInput').focus();
        }

        // 从智能建议卡片打开链接添加
        function showLinkModal() {
            switchUploadTab('link');
            // 滚动到上传区域
            document.querySelector('.upload-container').scrollIntoView({ behavior: 'smooth' });
            // 聚焦输入框
            setTimeout(() => {
                document.getElementById('linkInput').focus();
            }, 500);
        }

        // 评测侧边栏控制（知识库专用）
        // 注意：openEvalSidebar 保留供后续版本启用完整评测流程
        function openEvalSidebar() {
            document.getElementById('evalOverlay').classList.add('open');
            document.getElementById('evalPanel').classList.add('open');
        }

        // Toast 提示函数
        function showToast(message, type = 'success') {
            // 移除已有的 toast
            const existingToast = document.querySelector('.eva-toast');
            if (existingToast) existingToast.remove();

            // 创建 toast 元素
            const toast = document.createElement('div');
            toast.className = 'eva-toast';
            toast.style.cssText = `
                position: fixed;
                top: 24px;
                left: 50%;
                transform: translateX(-50%);
                padding: 12px 24px;
                border-radius: 8px;
                font-size: 14px;
                font-weight: 500;
                z-index: 10000;
                animation: toastIn 0.3s ease;
                display: flex;
                align-items: center;
                gap: 8px;
            `;

            // 根据类型设置样式
            if (type === 'success') {
                toast.style.background = '#10b981';
                toast.style.color = 'white';
                toast.innerHTML = '✓ ' + message;
            } else if (type === 'error') {
                toast.style.background = '#ef4444';
                toast.style.color = 'white';
                toast.innerHTML = '✕ ' + message;
            } else {
                toast.style.background = '#f59e0b';
                toast.style.color = 'white';
                toast.innerHTML = '⚠ ' + message;
            }

            document.body.appendChild(toast);

            // 2秒后自动消失
            setTimeout(() => {
                toast.style.animation = 'toastOut 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 2000);
        }

        // MVP版本：直接刷新评分（不打开侧边栏）
        function refreshScore() {
            const triggerBtn = document.getElementById('kb-evalTriggerBtn');
            if (triggerBtn) {
                // 显示加载态
                triggerBtn.disabled = true;
                triggerBtn.textContent = '刷新中...';
                triggerBtn.style.cursor = 'not-allowed';
                triggerBtn.style.opacity = '0.6';

                // 模拟刷新（实际调用后端API，可能需要较长时间）
                setTimeout(() => {
                    // 恢复按钮状态
                    triggerBtn.disabled = false;
                    triggerBtn.textContent = '刷新评分';
                    triggerBtn.style.cursor = 'pointer';
                    triggerBtn.style.opacity = '1';

                    // 更新最近评测时间
                    const now = new Date();
                    const timeStr = `${String(now.getMonth()+1).padStart(2,'0')}/${String(now.getDate()).padStart(2,'0')} ${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;
                    const timeEl = triggerBtn.parentElement.querySelector('div:last-child');
                    if (timeEl) {
                        timeEl.textContent = `上次评测：${timeStr}`;
                    }

                    // 显示成功 Toast
                    showToast('评分已刷新');
                }, 2000);
            }
        }

        function closeEvalSidebar() {
            document.getElementById('evalOverlay').classList.remove('open');
            document.getElementById('evalPanel').classList.remove('open');
            // 恢复触发按钮状态
            const triggerBtn = document.getElementById('kb-evalTriggerBtn');
            if (triggerBtn) {
                triggerBtn.disabled = false;
                triggerBtn.textContent = '刷新评分';
                triggerBtn.style.cursor = 'pointer';
                triggerBtn.style.opacity = '1';
            }
        }

        function startEvaluation() {
            // 禁用触发按钮，显示加载态
            const triggerBtn = document.getElementById('kb-evalTriggerBtn');
            if (triggerBtn) {
                triggerBtn.disabled = true;
                triggerBtn.textContent = '评测中...';
                triggerBtn.style.cursor = 'not-allowed';
                triggerBtn.style.opacity = '0.6';
            }

            // 隐藏step1，显示step2
            document.getElementById('kb-eval-step-1').style.display = 'none';
            document.getElementById('kb-eval-step-2').style.display = 'block';

            // 模拟评测进度
            let progress = 0;
            const ring = document.getElementById('kb-evalProgressRing');
            const percent = document.getElementById('kb-evalProgressPercent');
            const status = document.getElementById('kb-evalProgressStatus');
            const circumference = 283; // 100px圆环

            const interval = setInterval(() => {
                progress += 1;
                percent.textContent = progress;
                ring.style.strokeDashoffset = circumference * (1 - progress / 100);
                status.textContent = `正在评测 ${progress}/100...`;

                if (progress >= 100) {
                    clearInterval(interval);
                    // 显示结果
                    setTimeout(() => {
                        document.getElementById('kb-eval-step-2').style.display = 'none';
                        document.getElementById('kb-eval-step-3').style.display = 'block';
                    }, 500);
                }
            }, 30);
        }

        function resetEvalSidebar() {
            // 重置所有step
            document.getElementById('kb-eval-step-1').style.display = 'block';
            document.getElementById('kb-eval-step-2').style.display = 'none';
            document.getElementById('kb-eval-step-3').style.display = 'none';
            // 重置进度
            document.getElementById('kb-evalProgressPercent').textContent = '0';
            document.getElementById('kb-evalProgressRing').style.strokeDashoffset = '283';
        }

        // 立即补充：聚焦到上传区域并高亮
        function focusUploadArea() {
            const uploadContainer = document.querySelector('.upload-container');
            // 滚动到上传区域
            uploadContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
            // 添加高亮边框
            uploadContainer.style.borderColor = 'var(--accent)';
            uploadContainer.style.boxShadow = '0 0 0 3px var(--accent-light)';
            // 3秒后移除高亮
            setTimeout(() => {
                uploadContainer.style.borderColor = '';
                uploadContainer.style.boxShadow = '';
            }, 3000);
        }

        // 上传区域交互
        function triggerFileInput() {
            document.getElementById('fileInput').click();
        }

        function handleDragOver(e) {
            e.preventDefault();
            document.getElementById('fileDefaultState').classList.add('dragover');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            document.getElementById('fileDefaultState').classList.remove('dragover');
        }

        function handleDrop(e) {
            e.preventDefault();
            document.getElementById('fileDefaultState').classList.remove('dragover');

            const files = e.dataTransfer.files;
            if (files.length > 0) {
                startFileUpload();
            }
        }

        // 文件上传状态控制（组件内3状态切换）
        function startFileUpload() {
            // 切换到上传中状态
            document.getElementById('fileDefaultState').style.display = 'none';
            document.getElementById('fileUploadingState').style.display = 'block';
            document.getElementById('fileSuccessState').style.display = 'none';

            // 模拟上传完成：切换到成功状态
            setTimeout(() => {
                document.getElementById('fileUploadingState').style.display = 'none';
                document.getElementById('fileSuccessState').style.display = 'block';
            }, 2000);
        }

        function resetFileState() {
            // 重置为默认状态，准备下次上传
            document.getElementById('fileDefaultState').style.display = 'block';
            document.getElementById('fileUploadingState').style.display = 'none';
            document.getElementById('fileSuccessState').style.display = 'none';
        }

        // 文件输入变化时
        document.getElementById('fileInput').addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                startFileUpload();
            }
        });

        // ESC 键关闭面板
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeDetail();
                // 画板模式下按ESC返回交互模式
                if (document.body.classList.contains('artboard-mode')) {
                    switchMode('interactive');
                }
            }
        });

        // ========== 画板模式功能 ==========

        // 切换模式
        function switchMode(mode) {
            const body = document.body;
            const interactiveBtn = document.getElementById('modeInteractive');
            const artboardBtn = document.getElementById('modeArtboard');
            const printBtn = document.getElementById('modePrint');

            if (mode === 'artboard') {
                body.classList.add('artboard-mode');
                interactiveBtn.classList.remove('active');
                artboardBtn.classList.add('active');
                printBtn.style.display = 'flex';

                // 初始化画板内容
                initArtboardContent();
            } else {
                body.classList.remove('artboard-mode');
                interactiveBtn.classList.add('active');
                artboardBtn.classList.remove('active');
                printBtn.style.display = 'none';
            }
        }

        // 初始化画板内容（克隆主页面内容到画板1）
        function initArtboardContent() {
            // 画板1：默认状态 - 复制完整性面板和统计
            const artboard1 = document.getElementById('artboard-content-1');
            if (artboard1 && !artboard1.hasChildNodes()) {
                const content = document.querySelector('.content');
                if (content) {
                    const clone = content.cloneNode(true);
                    clone.style.transform = 'scale(0.45)';
                    clone.style.transformOrigin = 'top left';
                    clone.style.width = '222%';
                    clone.style.pointerEvents = 'none';
                    artboard1.appendChild(clone);
                }
            }

            // 画板8：文档详情侧边栏
            const artboard8 = document.getElementById('artboard-content-8');
            if (artboard8 && !artboard8.hasChildNodes()) {
                const detailPanel = document.getElementById('detailPanel');
                if (detailPanel) {
                    const clone = detailPanel.cloneNode(true);
                    clone.style.position = 'relative';
                    clone.style.transform = 'none';
                    clone.style.width = '100%';
                    clone.style.height = '100%';
                    clone.style.boxShadow = 'none';
                    clone.classList.remove('open');
                    artboard8.appendChild(clone);
                }
            }
        }

        // 打印画板
        function printArtboards() {
            window.print();
        }

        // 截图单个画板
        async function captureArtboard(artboardId, filename) {
            const artboard = document.getElementById(artboardId);
            if (!artboard) return;

            // 检查 html2canvas 是否加载
            if (typeof html2canvas === 'undefined') {
                alert('截图功能需要联网加载 html2canvas 库');
                return;
            }

            try {
                const canvas = await html2canvas(artboard, {
                    backgroundColor: '#ffffff',
                    scale: 2, // 2x 清晰度
                    logging: false
                });

                // 下载图片
                const link = document.createElement('a');
                link.download = filename + '.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            } catch (error) {
                console.error('截图失败:', error);
                alert('截图失败，请重试');
            }
        }

        // 批量导出所有画板
        async function captureAllArtboards() {
            const artboards = document.querySelectorAll('.artboard');
            for (let i = 0; i < artboards.length; i++) {
                const artboard = artboards[i];
                const label = artboard.querySelector('.artboard-label span:first-child');
                const id = artboard.querySelector('.artboard-label-id');
                const filename = `${id.textContent.replace('#', '')}-${label.textContent.replace(/[·\s]/g, '-')}`;

                await captureArtboard(artboard.id, filename);

                // 间隔 500ms 避免浏览器卡顿
                await new Promise(resolve => setTimeout(resolve, 500));
            }
        }
    </script>

    <!-- 刷新评分侧边栏 -->
    <div class="detail-overlay" id="evalOverlay" onclick="closeEvalSidebar()"></div>
    <div class="detail-panel" id="evalPanel">
        <!-- Step 1: 配置 -->
        <div id="kb-eval-step-1">
            <div class="detail-header">
                <div class="detail-title">评测 Agent 知识完整度</div>
                <button class="detail-close" onclick="closeEvalSidebar()">✕</button>
            </div>
            <div class="detail-body">
                <!-- 步骤指示器 -->
                <div style="display:flex; align-items:center; gap:8px; margin-bottom:20px; font-size:12px; color:var(--text-secondary);">
                    <span style="display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; border-radius:50%; background:var(--accent); color:white; font-weight:600;">1</span>
                    <span style="color:var(--text); font-weight:600;">配置评测</span>
                    <span style="flex:1; height:1px; background:var(--border);"></span>
                    <span style="display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; border-radius:50%; background:var(--border); color:var(--text-tertiary);">2</span>
                    <span>运行中</span>
                    <span style="flex:1; height:1px; background:var(--border);"></span>
                    <span style="display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; border-radius:50%; background:var(--border); color:var(--text-tertiary);">3</span>
                    <span>结果</span>
                </div>

                <div class="detail-section">
                    <div class="detail-section-title">评测范围</div>
                    <select id="kb-evalRange" style="width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:8px; font-size:14px; margin-bottom:16px;" disabled>
                        <option value="official">官方题库（400道）</option>
                    </select>
                </div>

                <div class="detail-section">
                    <div class="detail-section-title">样本策略</div>
                    <select id="kb-evalStrategy" disabled style="width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:8px; font-size:14px; background:var(--bg); cursor:not-allowed; margin-bottom:4px;">
                        <option value="full">全量评测</option>
                    </select>
                    <div style="font-size:11px; color:var(--text-tertiary);">更多策略如抽样评测将在后续版本上线</div>
                </div>

                <div style="padding:12px; background:rgba(59,130,246,0.06); border-radius:8px; border-left:3px solid var(--accent); font-size:13px; color:var(--text-secondary); margin-top:20px;">
                    <strong style="color:var(--text);">提示</strong><br>
                    评测完成后，将显示知识完整度得分和待补充领域建议。
                </div>
            </div>
            <div style="display:flex; align-items:center; justify-content:flex-end; gap:12px; padding:16px 24px; border-top:1px solid var(--border); margin-top:auto;">
                <button class="btn btn-secondary" onclick="closeEvalSidebar()">取消</button>
                <button class="btn btn-primary" onclick="startEvaluation()">开始评测 &#8594;</button>
            </div>
        </div>

        <!-- Step 2: 运行中 -->
        <div id="kb-eval-step-2" style="display:none;">
            <div class="detail-header">
                <div class="detail-title">评测进行中</div>
            </div>
            <div class="detail-body" style="text-align:center; padding:40px 24px;">
                <!-- 步骤指示器 -->
                <div style="display:flex; align-items:center; gap:8px; margin-bottom:32px; font-size:12px; color:var(--text-secondary);">
                    <span style="display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; border-radius:50%; background:#10B981; color:white;">&#10003;</span>
                    <span style="color:var(--text-tertiary);">配置评测</span>
                    <span style="flex:1; height:1px; background:#10B981;"></span>
                    <span style="display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; border-radius:50%; background:var(--accent); color:white; font-weight:600;">2</span>
                    <span style="color:var(--text); font-weight:600;">运行中</span>
                    <span style="flex:1; height:1px; background:var(--border);"></span>
                    <span style="display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; border-radius:50%; background:var(--border); color:var(--text-tertiary);">3</span>
                    <span>结果</span>
                </div>
                <!-- 进度圆环 -->
                <div style="position:relative; width:100px; height:100px; margin:0 auto 24px;">
                    <svg width="100" height="100" style="transform:rotate(-90deg);">
                        <circle cx="50" cy="50" r="45" fill="none" stroke="#f1f5f9" stroke-width="6"/>
                        <circle id="kb-evalProgressRing" cx="50" cy="50" r="45" fill="none" stroke="var(--accent)" stroke-width="6" stroke-linecap="round" stroke-dasharray="283" stroke-dashoffset="283" style="transition:stroke-dashoffset 0.3s;"/>
                    </svg>
                    <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:24px; font-weight:900; color:var(--text);">
                        <span id="kb-evalProgressPercent">0</span><span style="font-size:12px;">%</span>
                    </div>
                </div>
                <div id="kb-evalProgressStatus" style="font-size:14px; color:var(--text-secondary); margin-bottom:8px;">正在评测 0/100...</div>
                <div style="font-size:12px; color:var(--text-tertiary);">Agent 正在逐题作答并评判</div>
            </div>
        </div>

        <!-- Step 3: 结果 -->
        <div id="kb-eval-step-3" style="display:none;">
            <div class="detail-header">
                <div>
                    <div class="detail-title">评测完成</div>
                </div>
                <button class="detail-close" onclick="closeEvalSidebar(); resetEvalSidebar();">✕</button>
            </div>
            <div class="detail-body">
                <!-- 步骤指示器 -->
                <div style="display:flex; align-items:center; gap:8px; margin-bottom:20px; font-size:12px; color:var(--text-secondary);">
                    <span style="display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; border-radius:50%; background:#10B981; color:white;">&#10003;</span>
                    <span style="color:var(--text-tertiary);">配置评测</span>
                    <span style="flex:1; height:1px; background:#10B981;"></span>
                    <span style="display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; border-radius:50%; background:#10B981; color:white;">&#10003;</span>
                    <span style="color:var(--text-tertiary);">运行中</span>
                    <span style="flex:1; height:1px; background:#10B981;"></span>
                    <span style="display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; border-radius:50%; background:#10B981; color:white;">&#10003;</span>
                    <span style="color:var(--text); font-weight:600;">结果</span>
                </div>

                <div class="detail-section">
                    <div class="detail-section-title">完整度变化</div>
                    <div style="text-align:center; padding:20px; background:linear-gradient(135deg, rgba(16,185,129,0.08), rgba(16,185,129,0.02)); border-radius:12px;">
                        <div style="font-size:12px; color:var(--text-secondary); margin-bottom:8px;">知识完整度</div>
                        <div style="display:flex; align-items:center; justify-content:center; gap:16px;">
                            <span style="font-size:28px; font-weight:300; color:var(--text-tertiary);">72%</span>
                            <span style="font-size:20px; color:#10B981;">&#8594;</span>
                            <span style="font-size:36px; font-weight:900; color:#10B981;">78%</span>
                        </div>
                        <div style="display:inline-flex; align-items:center; gap:4px; padding:4px 12px; background:rgba(16,185,129,0.15); border-radius:20px; font-size:12px; color:#10B981; font-weight:600; margin-top:8px;">
                            &#9650; 提升 6%
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="detail-section-title">统计摘要</div>
                    <div style="display:grid; grid-template-columns:repeat(2,1fr); gap:12px;">
                        <div style="text-align:center; padding:12px; background:var(--bg); border-radius:8px;">
                            <div style="font-size:20px; font-weight:700; color:var(--text);">100</div>
                            <div style="font-size:11px; color:var(--text-tertiary);">评测题数</div>
                        </div>
                        <div style="text-align:center; padding:12px; background:var(--bg); border-radius:8px;">
                            <div style="font-size:20px; font-weight:700; color:#10B981;">78</div>
                            <div style="font-size:11px; color:var(--text-tertiary);">通过</div>
                        </div>
                        <div style="text-align:center; padding:12px; background:var(--bg); border-radius:8px;">
                            <div style="font-size:20px; font-weight:700; color:#EF4444;">22</div>
                            <div style="font-size:11px; color:var(--text-tertiary);">不通过</div>
                        </div>
                        <div style="text-align:center; padding:12px; background:var(--bg); border-radius:8px;">
                            <div style="font-size:20px; font-weight:700; color:#F59E0B;">3</div>
                            <div style="font-size:11px; color:var(--text-tertiary);">新增失败</div>
                        </div>
                    </div>
                </div>

                <div style="padding:14px 16px; background:rgba(239,68,68,0.06); border-radius:8px; border-left:3px solid #EF4444; margin-top:16px;">
                    <div style="font-size:13px; font-weight:600; color:var(--text);">22 道不通过题目待处理</div>
                    <div style="font-size:12px; color:var(--text-secondary); margin-top:4px;">补充相关知识以提升完整度</div>
                </div>
            </div>
            <div style="display:flex; align-items:center; justify-content:flex-end; gap:12px; padding:16px 24px; border-top:1px solid var(--border); margin-top:auto;">
                <button class="btn btn-secondary" onclick="closeEvalSidebar(); resetEvalSidebar();">关闭</button>
                <button class="btn btn-primary" onclick="closeEvalSidebar(); document.querySelector('.upload-section')?.scrollIntoView({behavior:'smooth'})">立即补充 &#8595;</button>
            </div>
        </div>
    </div>

</body>

</html>
